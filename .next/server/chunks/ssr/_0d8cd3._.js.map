{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\nconst model = genAI.getGenerativeModel({ model: \"gemini-flash-latest\" });\n\nexport async function generateQuiz() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n    select: {\n      industry: true,\n      skills: true,\n    },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const prompt = `\n    Generate 10 technical interview questions for a ${user.industry\n    } professional${user.skills?.length ? ` with expertise in ${user.skills.join(\", \")}` : \"\"\n    }.\n    \n    Each question should be multiple choice with 4 options.\n    \n    Return the response in this JSON format only, no additional text:\n    {\n      \"questions\": [\n        {\n          \"question\": \"string\",\n          \"options\": [\"string\", \"string\", \"string\", \"string\"],\n          \"correctAnswer\": \"string\",\n          \"explanation\": \"string\"\n        }\n      ]\n    }\n  `;\n\n  try {\n    const result = await model.generateContent(prompt);\n    const response = result.response;\n    const text = response.text();\n    const cleanedText = text.replace(/```(?:json)?\\n?/g, \"\").replace(/```/g, \"\").trim();\n    const quiz = JSON.parse(cleanedText);\n\n    return quiz.questions;\n  } catch (error) {\n    console.error(\"Error generating quiz:\", error);\n    throw new Error(error.message || \"Failed to generate quiz questions\");\n  }\n}\n\nexport async function saveQuizResult(questions, answers, score) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const questionResults = questions.map((q, index) => ({\n    question: q.question,\n    answer: q.correctAnswer,\n    userAnswer: answers[index],\n    isCorrect: q.correctAnswer === answers[index],\n    explanation: q.explanation,\n  }));\n\n  // Get wrong answers\n  const wrongAnswers = questionResults.filter((q) => !q.isCorrect);\n\n  // Only generate improvement tips if there are wrong answers\n  let improvementTip = null;\n  if (wrongAnswers.length > 0) {\n    const wrongQuestionsText = wrongAnswers\n      .map(\n        (q) =>\n          `Question: \"${q.question}\"\\nCorrect Answer: \"${q.answer}\"\\nUser Answer: \"${q.userAnswer}\"`\n      )\n      .join(\"\\n\\n\");\n\n    const improvementPrompt = `\n      The user got the following ${user.industry} technical interview questions wrong:\n\n      ${wrongQuestionsText}\n\n      Based on these mistakes, provide a concise, specific improvement tip.\n      Focus on the knowledge gaps revealed by these wrong answers.\n      Keep the response under 2 sentences and make it encouraging.\n      Don't explicitly mention the mistakes, instead focus on what to learn/practice.\n    `;\n\n    try {\n      const tipResult = await model.generateContent(improvementPrompt);\n\n      improvementTip = tipResult.response.text().trim();\n      console.log(improvementTip);\n    } catch (error) {\n      console.error(\"Error generating improvement tip:\", error);\n      // Continue without improvement tip if generation fails\n    }\n  }\n\n  try {\n    const assessment = await db.assessment.create({\n      data: {\n        userId: user.id,\n        quizScore: score,\n        questions: questionResults,\n        category: \"Technical\",\n        improvementTip,\n      },\n    });\n\n    return assessment;\n  } catch (error) {\n    console.error(\"Error saving quiz result:\", error);\n    throw new Error(\"Failed to save quiz result\");\n  }\n}\n\nexport async function getAssessments() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  try {\n    const assessments = await db.assessment.findMany({\n      where: {\n        userId: user.id,\n      },\n      orderBy: {\n        createdAt: \"asc\",\n      },\n    });\n\n    return assessments;\n  } catch (error) {\n    console.error(\"Error fetching assessments:\", error);\n    throw new Error(\"Failed to fetch assessments\");\n  }\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 159, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 165, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-sessions.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\n\r\n/**\r\n * Create a new interview session\r\n */\r\nexport async function createInterviewSession(sessionData) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        console.log(\"Creating interview session with data:\", {\r\n            userId: user.id,\r\n            jobRole: sessionData.jobRole,\r\n            interviewType: sessionData.interviewType,\r\n            difficulty: sessionData.difficulty,\r\n        });\r\n\r\n        const session = await db.interviewSession.create({\r\n            data: {\r\n                userId: user.id,\r\n                jobRole: sessionData.jobRole,\r\n                jobDescription: sessionData.jobDescription,\r\n                companyName: sessionData.companyName || null,\r\n                interviewType: sessionData.interviewType,\r\n                difficulty: sessionData.difficulty || \"Medium\",\r\n                duration: sessionData.duration || null,\r\n                focusAreas: sessionData.focusAreas || [],\r\n                status: \"pending\",\r\n            },\r\n        });\r\n\r\n        console.log(\"Interview session created successfully:\", session.id);\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error creating interview session:\", error);\r\n        console.error(\"Error details:\", {\r\n            name: error.name,\r\n            message: error.message,\r\n            code: error.code,\r\n            meta: error.meta,\r\n        });\r\n        throw new Error(`Failed to create interview session: ${error.message}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Get all interview sessions for the current user\r\n */\r\nexport async function getInterviewSessions(limit = 10, offset = 0) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const sessions = await db.interviewSession.findMany({\r\n            where: {\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                feedback: {\r\n                    select: {\r\n                        overallScore: true,\r\n                        communicationScore: true,\r\n                    },\r\n                },\r\n                _count: {\r\n                    select: {\r\n                        questions: true,\r\n                        responses: true,\r\n                    },\r\n                },\r\n            },\r\n            orderBy: {\r\n                createdAt: \"desc\",\r\n            },\r\n            take: limit,\r\n            skip: offset,\r\n        });\r\n\r\n        return sessions;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview sessions:\", error);\r\n        throw new Error(\"Failed to fetch interview sessions\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get a specific interview session by ID with all related data\r\n */\r\nexport async function getInterviewSessionById(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                questions: {\r\n                    orderBy: {\r\n                        orderIndex: \"asc\",\r\n                    },\r\n                },\r\n                responses: {\r\n                    include: {\r\n                        question: true,\r\n                    },\r\n                },\r\n                feedback: true,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview session:\", error);\r\n        throw new Error(\"Failed to fetch interview session\");\r\n    }\r\n}\r\n\r\n/**\r\n * Update interview session status\r\n */\r\nexport async function updateInterviewSessionStatus(sessionId, status) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const updateData = {\r\n            status,\r\n            updatedAt: new Date(),\r\n        };\r\n\r\n        // Add timestamps based on status\r\n        if (status === \"in_progress\" && !updateData.startedAt) {\r\n            updateData.startedAt = new Date();\r\n        } else if (status === \"completed\") {\r\n            updateData.completedAt = new Date();\r\n        }\r\n\r\n        const session = await db.interviewSession.updateMany({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            data: updateData,\r\n        });\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error updating interview session status:\", error);\r\n        throw new Error(\"Failed to update interview session status\");\r\n    }\r\n}\r\n\r\n/**\r\n * Delete an interview session and all related data\r\n */\r\nexport async function deleteInterviewSession(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Cascade delete will handle related questions, responses, and feedback\r\n        const session = await db.interviewSession.deleteMany({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n        });\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error deleting interview session:\", error);\r\n        throw new Error(\"Failed to delete interview session\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get interview statistics for the current user\r\n */\r\nexport async function getInterviewStats() {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const sessions = await db.interviewSession.findMany({\r\n            where: {\r\n                userId: user.id,\r\n                status: \"completed\",\r\n            },\r\n            include: {\r\n                feedback: {\r\n                    select: {\r\n                        overallScore: true,\r\n                        technicalScore: true,\r\n                        behavioralScore: true,\r\n                        communicationScore: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        const totalInterviews = sessions.length;\r\n        const averageScore =\r\n            totalInterviews > 0\r\n                ? sessions.reduce(\r\n                    (sum, s) => sum + (s.feedback?.overallScore || 0),\r\n                    0\r\n                ) / totalInterviews\r\n                : 0;\r\n\r\n        const averageCommunicationScore =\r\n            totalInterviews > 0\r\n                ? sessions.reduce(\r\n                    (sum, s) => sum + (s.feedback?.communicationScore || 0),\r\n                    0\r\n                ) / totalInterviews\r\n                : 0;\r\n\r\n        return {\r\n            totalInterviews,\r\n            averageScore: parseFloat(averageScore.toFixed(2)),\r\n            averageCommunicationScore: parseFloat(\r\n                averageCommunicationScore.toFixed(2)\r\n            ),\r\n            completedInterviews: totalInterviews,\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview stats:\", error);\r\n        throw new Error(\"Failed to fetch interview stats\");\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 417, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,yDAAyD;QACtE,GAAG,KAAK;;;;;;AAEb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAEb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACjE,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 492, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 498, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/stats-cards.jsx"],"sourcesContent":["import { Brain, Target, Trophy, Video } from \"lucide-react\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\n\nexport default function StatsCards({ assessments, interviewStats }) {\n  const getAverageScore = () => {\n    if (!assessments?.length) return 0;\n    const total = assessments.reduce(\n      (sum, assessment) => sum + assessment.quizScore,\n      0\n    );\n    return (total / assessments.length).toFixed(1);\n  };\n\n  const getLatestAssessment = () => {\n    if (!assessments?.length) return null;\n    return assessments[0];\n  };\n\n  const getTotalQuestions = () => {\n    if (!assessments?.length) return 0;\n    return assessments.reduce(\n      (sum, assessment) => sum + assessment.questions.length,\n      0\n    );\n  };\n\n  // Calculate combined score from both quiz and interviews\n  const getCombinedScore = () => {\n    const quizAvg = parseFloat(getAverageScore()) || 0;\n    const interviewAvg = interviewStats?.averageScore || 0;\n\n    if (quizAvg === 0 && interviewAvg === 0) return 0;\n    if (quizAvg === 0) return interviewAvg.toFixed(1);\n    if (interviewAvg === 0) return quizAvg;\n\n    // Average of both (quiz is out of 100, interview out of 10)\n    const normalizedQuiz = quizAvg / 10;\n    return ((normalizedQuiz + interviewAvg) / 2).toFixed(1);\n  };\n\n  return (\n    <div className=\"grid gap-4 md:grid-cols-4\">\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n          <CardTitle className=\"text-sm font-medium\">Combined Score</CardTitle>\n          <Trophy className=\"h-4 w-4 text-muted-foreground\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-2xl font-bold\">{getCombinedScore()}/10</div>\n          <p className=\"text-xs text-muted-foreground\">\n            Quiz + Interview Average\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n          <CardTitle className=\"text-sm font-medium\">Quiz Average</CardTitle>\n          <Brain className=\"h-4 w-4 text-muted-foreground\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-2xl font-bold\">{getAverageScore()}%</div>\n          <p className=\"text-xs text-muted-foreground\">\n            {getTotalQuestions()} questions practiced\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n          <CardTitle className=\"text-sm font-medium\">\n            Interview Score\n          </CardTitle>\n          <Video className=\"h-4 w-4 text-muted-foreground\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-2xl font-bold\">\n            {interviewStats?.averageScore?.toFixed(1) || 0}/10\n          </div>\n          <p className=\"text-xs text-muted-foreground\">\n            {interviewStats?.totalInterviews || 0} interviews completed\n          </p>\n        </CardContent>\n      </Card>\n\n      <Card>\n        <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n          <CardTitle className=\"text-sm font-medium\">Latest Score</CardTitle>\n          <Target className=\"h-4 w-4 text-muted-foreground\" />\n        </CardHeader>\n        <CardContent>\n          <div className=\"text-2xl font-bold\">\n            {getLatestAssessment()?.quizScore.toFixed(1) || 0}%\n          </div>\n          <p className=\"text-xs text-muted-foreground\">Most recent quiz</p>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 787, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 793, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/performace-chart.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/performace-chart.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/performace-chart.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyT,GACtV,uFACA"}},
    {"offset": {"line": 801, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 807, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/performace-chart.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/performace-chart.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/performace-chart.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAqS,GAClU,mEACA"}},
    {"offset": {"line": 815, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 821, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 825, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 831, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz-list.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/quiz-list.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/quiz-list.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAkT,GAC/U,gFACA"}},
    {"offset": {"line": 839, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 845, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz-list.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/quiz-list.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/quiz-list.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA"}},
    {"offset": {"line": 853, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 859, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 863, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 869, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/quiz.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/quiz.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA6S,GAC1U,2EACA"}},
    {"offset": {"line": 877, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 883, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/quiz.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/quiz.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAyR,GACtT,uDACA"}},
    {"offset": {"line": 891, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 897, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 901, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 907, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/tabs.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx <module evaluation>\",\n    \"Tabs\",\n);\nexport const TabsContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx <module evaluation>\",\n    \"TabsContent\",\n);\nexport const TabsList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx <module evaluation>\",\n    \"TabsList\",\n);\nexport const TabsTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx <module evaluation>\",\n    \"TabsTrigger\",\n);\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,wDACA;AAEG,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,wDACA;AAEG,MAAM,WAAW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,wDACA;AAEG,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,wDACA"}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/tabs.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport const Tabs = registerClientReference(\n    function() { throw new Error(\"Attempted to call Tabs() from the server but Tabs is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx\",\n    \"Tabs\",\n);\nexport const TabsContent = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsContent() from the server but TabsContent is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx\",\n    \"TabsContent\",\n);\nexport const TabsList = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsList() from the server but TabsList is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx\",\n    \"TabsList\",\n);\nexport const TabsTrigger = registerClientReference(\n    function() { throw new Error(\"Attempted to call TabsTrigger() from the server but TabsTrigger is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/ui/tabs.jsx\",\n    \"TabsTrigger\",\n);\n"],"names":[],"mappings":";;;;;;AAAA;;AACO,MAAM,OAAO,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACtC;IAAa,MAAM,IAAI,MAAM;AAAwN,GACrP,oCACA;AAEG,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oCACA;AAEG,MAAM,WAAW,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC1C;IAAa,MAAM,IAAI,MAAM;AAAgO,GAC7P,oCACA;AAEG,MAAM,cAAc,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EAC7C;IAAa,MAAM,IAAI,MAAM;AAAsO,GACnQ,oCACA"}},
    {"offset": {"line": 953, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 959, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 963, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 969, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/interview-tabs.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/interview-tabs.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/interview-tabs.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAuT,GACpV,qFACA"}},
    {"offset": {"line": 977, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 983, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/interview-tabs.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/interview-tabs.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/interview-tabs.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAmS,GAChU,iEACA"}},
    {"offset": {"line": 991, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 997, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1001, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1007, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/real-interview-prep.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/real-interview-prep.jsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/real-interview-prep.jsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAA4T,GACzV,0FACA"}},
    {"offset": {"line": 1015, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1021, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/real-interview-prep.jsx/proxy.mjs"],"sourcesContent":["import { registerClientReference } from \"react-server-dom-turbopack/server.edge\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/(main)/interview/_components/real-interview-prep.jsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/(main)/interview/_components/real-interview-prep.jsx\",\n    \"default\",\n);\n"],"names":[],"mappings":";;;AAAA;;uCACe,CAAA,GAAA,qPAAA,CAAA,0BAAuB,AAAD,EACjC;IAAa,MAAM,IAAI,MAAM;AAAwS,GACrU,sEACA"}},
    {"offset": {"line": 1029, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1035, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 1039, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1045, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/page.jsx"],"sourcesContent":["import { getAssessments } from \"@/actions/interview\";\nimport { getInterviewSessions, getInterviewStats } from \"@/actions/interview-sessions\";\nimport StatsCards from \"./_components/stats-cards\";\nimport PerformanceChart from \"./_components/performace-chart\";\nimport QuizList from \"./_components/quiz-list\";\nimport Quiz from \"./_components/quiz\";\nimport { TabsContent } from \"@/components/ui/tabs\";\nimport InterviewTabs from \"./_components/interview-tabs\";\nimport RealInterviewPrep from \"./_components/real-interview-prep\";\n\nexport default async function InterviewPrepPage() {\n  const assessments = await getAssessments();\n  const interviewSessions = await getInterviewSessions(10, 0);\n  const interviewStats = await getInterviewStats();\n\n  return (\n    <div>\n      <div className=\"flex items-center justify-between mb-5\">\n        <h1 className=\"text-6xl font-bold gradient-title\">\n          Interview Preparation\n        </h1>\n      </div>\n\n      <InterviewTabs>\n        <TabsContent value=\"dashboard\" className=\"space-y-6\">\n          <StatsCards\n            assessments={assessments}\n            interviewStats={interviewStats}\n          />\n          <PerformanceChart\n            assessments={assessments}\n            interviewSessions={interviewSessions}\n          />\n          <QuizList assessments={assessments} />\n        </TabsContent>\n\n        <TabsContent value=\"quiz\">\n          <Quiz />\n        </TabsContent>\n\n        <TabsContent value=\"real-prep\">\n          <RealInterviewPrep sessions={interviewSessions} />\n        </TabsContent>\n      </InterviewTabs>\n    </div>\n  );\n}\n\n"],"names":[],"mappings":";;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;AAEe,eAAe;IAC5B,MAAM,cAAc,MAAM,CAAA,GAAA,oHAAA,CAAA,iBAAc,AAAD;IACvC,MAAM,oBAAoB,MAAM,CAAA,GAAA,gIAAA,CAAA,uBAAoB,AAAD,EAAE,IAAI;IACzD,MAAM,iBAAiB,MAAM,CAAA,GAAA,gIAAA,CAAA,oBAAiB,AAAD;IAE7C,qBACE,8OAAC;;0BACC,8OAAC;gBAAI,WAAU;0BACb,cAAA,8OAAC;oBAAG,WAAU;8BAAoC;;;;;;;;;;;0BAKpD,8OAAC,iKAAA,CAAA,UAAa;;kCACZ,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;wBAAY,WAAU;;0CACvC,8OAAC,8JAAA,CAAA,UAAU;gCACT,aAAa;gCACb,gBAAgB;;;;;;0CAElB,8OAAC,mKAAA,CAAA,UAAgB;gCACf,aAAa;gCACb,mBAAmB;;;;;;0CAErB,8OAAC,4JAAA,CAAA,UAAQ;gCAAC,aAAa;;;;;;;;;;;;kCAGzB,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,8OAAC,oJAAA,CAAA,UAAI;;;;;;;;;;kCAGP,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;kCACjB,cAAA,8OAAC,yKAAA,CAAA,UAAiB;4BAAC,UAAU;;;;;;;;;;;;;;;;;;;;;;;AAKvC"}},
    {"offset": {"line": 1163, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-test-data.js"],"sourcesContent":["/**\r\n * Test/Demo interview questions for when Gemini API is unavailable\r\n */\r\n\r\nexport const getTestQuestions = (jobRole, interviewType, difficulty) => {\r\n    const questionCount = difficulty === \"Easy\" ? 5 : difficulty === \"Hard\" ? 8 : 6;\r\n\r\n    const technicalQuestions = [\r\n        {\r\n            questionText: `Describe your experience with the key technologies required for a ${jobRole} position.`,\r\n            category: \"Technical\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Specific technologies and frameworks\",\r\n                \"Years of experience with each\",\r\n                \"Real-world projects where you used them\",\r\n                \"Depth of knowledge demonstrated\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Clear articulation of technical experience\",\r\n                depth: \"Demonstrates deep understanding of technologies\",\r\n                relevance: \"Experience aligns with job requirements\"\r\n            }\r\n        },\r\n        {\r\n            questionText: \"Walk me through how you would approach solving a complex technical problem in this role.\",\r\n            category: \"Technical\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Problem analysis and breakdown\",\r\n                \"Solution design approach\",\r\n                \"Consideration of trade-offs\",\r\n                \"Testing and validation strategy\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Structured and logical explanation\",\r\n                depth: \"Shows systematic problem-solving approach\",\r\n                relevance: \"Practical and applicable to real scenarios\"\r\n            }\r\n        },\r\n        {\r\n            questionText: \"What are the most important best practices you follow in your development work?\",\r\n            category: \"Technical\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Code quality and maintainability\",\r\n                \"Testing and documentation\",\r\n                \"Version control practices\",\r\n                \"Security considerations\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Well-articulated practices\",\r\n                depth: \"Understanding of why practices matter\",\r\n                relevance: \"Industry-standard approaches\"\r\n            }\r\n        }\r\n    ];\r\n\r\n    const behavioralQuestions = [\r\n        {\r\n            questionText: \"Tell me about a challenging project you worked on and how you overcame the obstacles.\",\r\n            category: \"Behavioral\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Specific situation and context\",\r\n                \"Challenges faced\",\r\n                \"Actions taken to overcome them\",\r\n                \"Results and lessons learned\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Clear STAR format response\",\r\n                depth: \"Demonstrates problem-solving and resilience\",\r\n                relevance: \"Applicable to the target role\"\r\n            }\r\n        },\r\n        {\r\n            questionText: \"Describe a time when you had to work with a difficult team member. How did you handle it?\",\r\n            category: \"Behavioral\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Situation description\",\r\n                \"Communication approach\",\r\n                \"Conflict resolution strategy\",\r\n                \"Outcome and relationship improvement\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Honest and professional response\",\r\n                depth: \"Shows emotional intelligence\",\r\n                relevance: \"Demonstrates teamwork skills\"\r\n            }\r\n        },\r\n        {\r\n            questionText: \"How do you prioritize tasks when you have multiple deadlines?\",\r\n            category: \"Behavioral\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Prioritization framework\",\r\n                \"Communication with stakeholders\",\r\n                \"Time management techniques\",\r\n                \"Handling competing priorities\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Clear methodology explained\",\r\n                depth: \"Shows organizational skills\",\r\n                relevance: \"Practical and effective approach\"\r\n            }\r\n        }\r\n    ];\r\n\r\n    const situationalQuestions = [\r\n        {\r\n            questionText: `If you were hired for this ${jobRole} position, what would you focus on in your first 90 days?`,\r\n            category: \"Situational\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Learning and onboarding plan\",\r\n                \"Relationship building\",\r\n                \"Quick wins identification\",\r\n                \"Long-term strategy alignment\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Well-structured 90-day plan\",\r\n                depth: \"Shows strategic thinking\",\r\n                relevance: \"Aligned with role expectations\"\r\n            }\r\n        },\r\n        {\r\n            questionText: \"How would you handle a situation where you disagree with a technical decision made by your team lead?\",\r\n            category: \"Situational\",\r\n            difficulty: difficulty,\r\n            keyPoints: [\r\n                \"Respectful communication\",\r\n                \"Data-driven arguments\",\r\n                \"Willingness to understand other perspectives\",\r\n                \"Team collaboration\"\r\n            ],\r\n            evaluationCriteria: {\r\n                clarity: \"Professional approach outlined\",\r\n                depth: \"Shows maturity and diplomacy\",\r\n                relevance: \"Demonstrates good judgment\"\r\n            }\r\n        }\r\n    ];\r\n\r\n    let selectedQuestions = [];\r\n\r\n    if (interviewType === \"Technical\") {\r\n        selectedQuestions = technicalQuestions.slice(0, questionCount);\r\n    } else if (interviewType === \"Behavioral\") {\r\n        selectedQuestions = behavioralQuestions.slice(0, questionCount);\r\n    } else {\r\n        // Mixed: combine both types\r\n        const techCount = Math.ceil(questionCount / 2);\r\n        const behavioralCount = questionCount - techCount;\r\n        selectedQuestions = [\r\n            ...technicalQuestions.slice(0, techCount),\r\n            ...behavioralQuestions.slice(0, behavioralCount)\r\n        ];\r\n    }\r\n\r\n    // Add situational questions if we need more\r\n    while (selectedQuestions.length < questionCount) {\r\n        selectedQuestions.push(situationalQuestions[selectedQuestions.length % situationalQuestions.length]);\r\n    }\r\n\r\n    return selectedQuestions.slice(0, questionCount);\r\n};\r\n"],"names":[],"mappings":"AAAA;;CAEC;;;AAEM,MAAM,mBAAmB,CAAC,SAAS,eAAe;IACrD,MAAM,gBAAgB,eAAe,SAAS,IAAI,eAAe,SAAS,IAAI;IAE9E,MAAM,qBAAqB;QACvB;YACI,cAAc,CAAC,kEAAkE,EAAE,QAAQ,UAAU,CAAC;YACtG,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;QACA;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;QACA;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;KACH;IAED,MAAM,sBAAsB;QACxB;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;QACA;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;QACA;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;KACH;IAED,MAAM,uBAAuB;QACzB;YACI,cAAc,CAAC,2BAA2B,EAAE,QAAQ,yDAAyD,CAAC;YAC9G,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;QACA;YACI,cAAc;YACd,UAAU;YACV,YAAY;YACZ,WAAW;gBACP;gBACA;gBACA;gBACA;aACH;YACD,oBAAoB;gBAChB,SAAS;gBACT,OAAO;gBACP,WAAW;YACf;QACJ;KACH;IAED,IAAI,oBAAoB,EAAE;IAE1B,IAAI,kBAAkB,aAAa;QAC/B,oBAAoB,mBAAmB,KAAK,CAAC,GAAG;IACpD,OAAO,IAAI,kBAAkB,cAAc;QACvC,oBAAoB,oBAAoB,KAAK,CAAC,GAAG;IACrD,OAAO;QACH,4BAA4B;QAC5B,MAAM,YAAY,KAAK,IAAI,CAAC,gBAAgB;QAC5C,MAAM,kBAAkB,gBAAgB;QACxC,oBAAoB;eACb,mBAAmB,KAAK,CAAC,GAAG;eAC5B,oBAAoB,KAAK,CAAC,GAAG;SACnC;IACL;IAEA,4CAA4C;IAC5C,MAAO,kBAAkB,MAAM,GAAG,cAAe;QAC7C,kBAAkB,IAAI,CAAC,oBAAoB,CAAC,kBAAkB,MAAM,GAAG,qBAAqB,MAAM,CAAC;IACvG;IAEA,OAAO,kBAAkB,KAAK,CAAC,GAAG;AACtC"}},
    {"offset": {"line": 1336, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1342, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-ai.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { getTestQuestions } from \"./interview-test-data\";\r\n\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" });\r\n\r\n// Set to true to use test questions instead of Gemini API\r\nconst USE_TEST_MODE = false;\r\n\r\n/**\r\n * Generate interview questions for a session using Gemini AI\r\n */\r\nexport async function generateInterviewQuestions(\r\n    sessionId,\r\n    jobRole,\r\n    jobDescription,\r\n    interviewType,\r\n    difficulty = \"Medium\"\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n        select: {\r\n            industry: true,\r\n            skills: true,\r\n        },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    const questionCount = difficulty === \"Easy\" ? 5 : difficulty === \"Hard\" ? 8 : 6;\r\n\r\n    const prompt = `\r\n    You are an expert technical interviewer. Generate ${questionCount} interview questions for the following position:\r\n    \r\n    Job Role: ${jobRole}\r\n    Job Description: ${jobDescription}\r\n    Interview Type: ${interviewType}\r\n    Difficulty Level: ${difficulty}\r\n    ${user.industry ? `Industry: ${user.industry}` : \"\"}\r\n    ${user.skills?.length ? `Candidate Skills: ${user.skills.join(\", \")}` : \"\"}\r\n    \r\n    Generate a mix of questions based on the interview type:\r\n    - If \"Technical\": Focus on technical skills, problem-solving, and domain knowledge\r\n    - If \"Behavioral\": Focus on past experiences, soft skills, and situational responses\r\n    - If \"Mixed\": Include both technical and behavioral questions\r\n    \r\n    For each question, provide:\r\n    1. The question text\r\n    2. Category (Technical, Behavioral, or Situational)\r\n    3. Key points that should be covered in a good answer\r\n    4. Evaluation criteria\r\n    \r\n    Return ONLY valid JSON in this exact format, no additional text:\r\n    {\r\n      \"questions\": [\r\n        {\r\n          \"questionText\": \"string\",\r\n          \"category\": \"Technical|Behavioral|Situational\",\r\n          \"difficulty\": \"Easy|Medium|Hard\",\r\n          \"keyPoints\": [\"point1\", \"point2\", \"point3\"],\r\n          \"evaluationCriteria\": {\r\n            \"clarity\": \"What to look for in terms of clarity\",\r\n            \"depth\": \"What depth of knowledge is expected\",\r\n            \"relevance\": \"How relevant the answer should be\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  `;\r\n\r\n    try {\r\n        console.log(\"Generating interview questions for session:\", sessionId);\r\n        console.log(\"Question count:\", questionCount);\r\n        console.log(\"Test mode:\", USE_TEST_MODE);\r\n\r\n        let questionsData;\r\n\r\n        if (USE_TEST_MODE) {\r\n            // Use pre-defined test questions\r\n            console.log(\"Using test questions (Gemini API bypassed)\");\r\n            const testQuestions = getTestQuestions(jobRole, interviewType, difficulty);\r\n            questionsData = { questions: testQuestions };\r\n        } else {\r\n            // Use Gemini API\r\n            const result = await model.generateContent(prompt);\r\n            const response = result.response;\r\n            const text = response.text();\r\n\r\n            console.log(\"Gemini API response received, length:\", text.length);\r\n\r\n            const cleanedText = text\r\n                .replace(/```(?:json)?\\\\n?/g, \"\")\r\n                .replace(/```/g, \"\")\r\n                .trim();\r\n\r\n            console.log(\"Raw text:\", text.substring(0, 1000)); // Log raw text for debugging\r\n\r\n            // Robust JSON extraction\r\n            let jsonString = text.trim();\r\n            const firstBrace = text.indexOf('{');\r\n            const lastBrace = text.lastIndexOf('}');\r\n\r\n            if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\r\n                jsonString = text.substring(firstBrace, lastBrace + 1);\r\n            } else {\r\n                // Fallback to basic cleaning if no braces found\r\n                jsonString = text\r\n                    .replace(/```(?:json)?\\n?/g, \"\")\r\n                    .replace(/```/g, \"\")\r\n                    .trim();\r\n            }\r\n\r\n            console.log(\"Extracted JSON for parsing:\", jsonString.substring(0, 500));\r\n\r\n            try {\r\n                questionsData = JSON.parse(jsonString);\r\n            } catch (e) {\r\n                console.error(\"Failed to parse JSON:\", e);\r\n                // console.log(\"Raw text was:\", text); // Already logged above\r\n                throw new Error(\"Failed to parse Gemini response: \" + e.message);\r\n            }\r\n        }\r\n\r\n        console.log(\"Parsed questions data structure:\", JSON.stringify(questionsData, null, 2));\r\n\r\n        // Handle case where Gemini returns just the array\r\n        if (Array.isArray(questionsData)) {\r\n            questionsData = { questions: questionsData };\r\n        }\r\n\r\n        if (!questionsData.questions || !Array.isArray(questionsData.questions)) {\r\n            console.error(\"Invalid question format received from Gemini\");\r\n            throw new Error(\"Gemini returned invalid question format: \" + JSON.stringify(questionsData).substring(0, 100));\r\n        }\r\n\r\n        console.log(\"Parsed questions data:\", questionsData.questions?.length, \"questions\");\r\n\r\n        // Save questions to database\r\n        const savedQuestions = await Promise.all(\r\n            questionsData.questions.map(async (q, index) => {\r\n                return await db.interviewQuestion.create({\r\n                    data: {\r\n                        sessionId,\r\n                        questionText: q.questionText,\r\n                        category: q.category,\r\n                        difficulty: q.difficulty,\r\n                        orderIndex: index,\r\n                        keyPoints: q.keyPoints,\r\n                        evaluationCriteria: q.evaluationCriteria,\r\n                    },\r\n                });\r\n            })\r\n        );\r\n\r\n        console.log(\"Successfully saved\", savedQuestions.length, \"questions to database\");\r\n        return savedQuestions;\r\n    } catch (error) {\r\n        console.error(\"Error generating interview questions:\", error);\r\n        console.error(\"Error name:\", error.name);\r\n        console.error(\"Error message:\", error.message);\r\n        console.error(\"Error stack:\", error.stack);\r\n        throw new Error(\r\n            error.message || \"Failed to generate interview questions\"\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Generate comprehensive feedback for a completed interview session\r\n */\r\nexport async function generateInterviewFeedback(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Fetch session with questions and responses\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                questions: {\r\n                    orderBy: {\r\n                        orderIndex: \"asc\",\r\n                    },\r\n                },\r\n                responses: {\r\n                    include: {\r\n                        question: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n        if (session.responses.length === 0) {\r\n            throw new Error(\"No responses found for this session\");\r\n        }\r\n\r\n        // Prepare data for AI analysis\r\n        const qaData = session.responses.map((response) => ({\r\n            question: response.question.questionText,\r\n            category: response.question.category,\r\n            keyPoints: response.question.keyPoints,\r\n            userAnswer: response.transcription,\r\n            duration: response.duration,\r\n        }));\r\n\r\n        const prompt = `\r\n      You are an expert interview evaluator. Analyze the following interview responses and provide comprehensive feedback.\r\n      \r\n      Job Role: ${session.jobRole}\r\n      Interview Type: ${session.interviewType}\r\n      \r\n      Questions and Answers:\r\n      ${qaData\r\n                .map(\r\n                    (qa, i) => `\r\n        Q${i + 1} [${qa.category}]: ${qa.question}\r\n        Expected Key Points: ${qa.keyPoints.join(\", \")}\r\n        Candidate's Answer: ${qa.userAnswer}\r\n        Response Duration: ${qa.duration || \"N/A\"} seconds\r\n      `\r\n                )\r\n                .join(\"\\n\")}\r\n      \r\n      Provide a detailed evaluation in the following JSON format (ONLY JSON, no additional text):\r\n      {\r\n        \"overallScore\": <number 0-10>,\r\n        \"overallSummary\": \"A comprehensive summary of the interview performance\",\r\n        \"technicalScore\": <number 0-10 or null if no technical questions>,\r\n        \"behavioralScore\": <number 0-10 or null if no behavioral questions>,\r\n        \"communicationScore\": <number 0-10>,\r\n        \"strengths\": [\"strength1\", \"strength2\", \"strength3\"],\r\n        \"improvements\": [\"improvement1\", \"improvement2\", \"improvement3\"],\r\n        \"recommendations\": [\"recommendation1\", \"recommendation2\", \"recommendation3\"],\r\n        \"questionAnalysis\": [\r\n          {\r\n            \"questionIndex\": 0,\r\n            \"score\": <number 0-10>,\r\n            \"feedback\": \"Detailed feedback for this question\",\r\n            \"keyPointsCovered\": [\"point1\", \"point2\"]\r\n          }\r\n        ],\r\n        \"metricsData\": {\r\n          \"categoryScores\": {\r\n            \"Technical\": <number 0-10>,\r\n            \"Behavioral\": <number 0-10>,\r\n            \"Situational\": <number 0-10>\r\n          },\r\n          \"skillsAssessed\": [\"skill1\", \"skill2\", \"skill3\"]\r\n        }\r\n      }\r\n      \r\n      Evaluation Guidelines:\r\n      - Be constructive and encouraging\r\n      - Provide specific, actionable feedback\r\n      - Consider both content quality and communication clarity\r\n      - Assess how well key points were addressed\r\n      - Evaluate the depth and relevance of answers\r\n    `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const response = result.response;\r\n        const text = response.text();\r\n        const firstBrace = text.indexOf('{');\r\n        const lastBrace = text.lastIndexOf('}');\r\n        let cleanedText = text;\r\n\r\n        if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\r\n            cleanedText = text.substring(firstBrace, lastBrace + 1);\r\n        } else {\r\n            cleanedText = text\r\n                .replace(/```(?:json)?\\n?/g, \"\")\r\n                .replace(/```/g, \"\")\r\n                .trim();\r\n        }\r\n\r\n        const feedbackData = JSON.parse(cleanedText);\r\n\r\n        // Save feedback to database\r\n        const feedback = await db.interviewFeedback.create({\r\n            data: {\r\n                sessionId,\r\n                overallScore: feedbackData.overallScore,\r\n                overallSummary: feedbackData.overallSummary,\r\n                technicalScore: feedbackData.technicalScore,\r\n                behavioralScore: feedbackData.behavioralScore,\r\n                communicationScore: feedbackData.communicationScore,\r\n                strengths: feedbackData.strengths,\r\n                improvements: feedbackData.improvements,\r\n                recommendations: feedbackData.recommendations,\r\n                questionAnalysis: feedbackData.questionAnalysis,\r\n                metricsData: feedbackData.metricsData,\r\n            },\r\n        });\r\n\r\n        return feedback;\r\n    } catch (error) {\r\n        console.error(\"Error generating interview feedback:\", error);\r\n        throw new Error(error.message || \"Failed to generate interview feedback\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get feedback for a specific interview session\r\n */\r\nexport async function getInterviewFeedback(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const feedback = await db.interviewFeedback.findFirst({\r\n            where: {\r\n                sessionId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            include: {\r\n                session: {\r\n                    select: {\r\n                        jobRole: true,\r\n                        jobDescription: true,\r\n                        interviewType: true,\r\n                        createdAt: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        return feedback;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview feedback:\", error);\r\n        throw new Error(\"Failed to fetch interview feedback\");\r\n    }\r\n}\r\n\r\n/**\r\n * Generate a dynamic follow-up question based on previous response\r\n */\r\nexport async function generateFollowUpQuestion(sessionId, previousResponse) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    try {\r\n        const session = await db.interviewSession.findUnique({\r\n            where: { id: sessionId },\r\n            select: {\r\n                jobRole: true,\r\n                interviewType: true,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Session not found\");\r\n\r\n        const prompt = `\r\n      You are conducting a ${session.interviewType} interview for a ${session.jobRole} position.\r\n      \r\n      The candidate just answered: \"${previousResponse}\"\r\n      \r\n      Generate ONE insightful follow-up question that:\r\n      1. Probes deeper into their answer\r\n      2. Clarifies any ambiguous points\r\n      3. Assesses their depth of knowledge\r\n      \r\n      Return ONLY the follow-up question text, nothing else.\r\n    `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const followUpQuestion = result.response.text().trim();\r\n\r\n        return followUpQuestion;\r\n    } catch (error) {\r\n        console.error(\"Error generating follow-up question:\", error);\r\n        throw new Error(\"Failed to generate follow-up question\");\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1692, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1698, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-responses.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\n\r\n/**\r\n * Save an interview response\r\n */\r\nexport async function saveInterviewResponse(\r\n    sessionId,\r\n    questionId,\r\n    transcription,\r\n    audioUrl = null,\r\n    duration = null,\r\n    confidence = null\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Verify session belongs to user\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n\r\n        const response = await db.interviewResponse.create({\r\n            data: {\r\n                sessionId,\r\n                questionId,\r\n                transcription,\r\n                audioUrl,\r\n                duration,\r\n                confidence,\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error saving interview response:\", error);\r\n        throw new Error(\"Failed to save interview response\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get all responses for a session\r\n */\r\nexport async function getSessionResponses(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const responses = await db.interviewResponse.findMany({\r\n            where: {\r\n                sessionId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            include: {\r\n                question: true,\r\n            },\r\n            orderBy: {\r\n                createdAt: \"asc\",\r\n            },\r\n        });\r\n\r\n        return responses;\r\n    } catch (error) {\r\n        console.error(\"Error fetching session responses:\", error);\r\n        throw new Error(\"Failed to fetch session responses\");\r\n    }\r\n}\r\n\r\n/**\r\n * Update response transcription (useful for real-time updates from Vapi.ai)\r\n */\r\nexport async function updateResponseTranscription(\r\n    responseId,\r\n    transcription,\r\n    confidence = null\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const response = await db.interviewResponse.updateMany({\r\n            where: {\r\n                id: responseId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            data: {\r\n                transcription,\r\n                confidence,\r\n                updatedAt: new Date(),\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error updating response transcription:\", error);\r\n        throw new Error(\"Failed to update response transcription\");\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a response\r\n */\r\nexport async function deleteInterviewResponse(responseId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const response = await db.interviewResponse.deleteMany({\r\n            where: {\r\n                id: responseId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error deleting interview response:\", error);\r\n        throw new Error(\"Failed to delete interview response\");\r\n    }\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1841, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}