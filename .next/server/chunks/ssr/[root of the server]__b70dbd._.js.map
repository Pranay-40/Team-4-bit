{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/card.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"rounded-xl border bg-card text-card-foreground shadow\", className)}\n    {...props} />\n))\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props} />\n))\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props} />\n))\nCardFooter.displayName = \"CardFooter\"\n\nexport { Card, CardHeader, CardFooter, CardTitle, CardDescription, CardContent }\n"],"names":[],"mappings":";;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACtD,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,yDAAyD;QACtE,GAAG,KAAK;;;;;;AAEb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC3D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,6CAA6C;QAC1D,GAAG,KAAK;;;;;;AAEb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACjE,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC;QAAI,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC5D,8OAAC;QACC,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,8BAA8B;QAC3C,GAAG,KAAK;;;;;;AAEb,WAAW,WAAW,GAAG"}},
    {"offset": {"line": 82, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 88, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/performace-chart.jsx"],"sourcesContent":["\"use client\";\n\nimport {\n  LineChart,\n  Line,\n  XAxis,\n  YAxis,\n  CartesianGrid,\n  Tooltip,\n  ResponsiveContainer,\n} from \"recharts\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { useEffect, useState } from \"react\";\nimport { format } from \"date-fns\";\n\nexport default function PerformanceChart({ assessments }) {\n  const [chartData, setChartData] = useState([]);\n\n  useEffect(() => {\n    if (assessments) {\n      const formattedData = assessments.map((assessment) => ({\n        date: format(new Date(assessment.createdAt), \"MMM dd\"),\n        score: assessment.quizScore,\n      }));\n      setChartData(formattedData);\n    }\n  }, [assessments]);\n\n  return (\n    <Card>\n      <CardHeader>\n        <CardTitle className=\"gradient-title text-3xl md:text-4xl\">\n          Performance Trend\n        </CardTitle>\n        <CardDescription>Your quiz scores over time</CardDescription>\n      </CardHeader>\n      <CardContent>\n        <div className=\"h-[300px]\">\n          <ResponsiveContainer width=\"100%\" height=\"100%\">\n            <LineChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" />\n              <XAxis dataKey=\"date\" />\n              <YAxis domain={[0, 100]} />\n              <Tooltip\n                content={({ active, payload }) => {\n                  if (active && payload?.length) {\n                    return (\n                      <div className=\"bg-background border rounded-lg p-2 shadow-md\">\n                        <p className=\"text-sm font-medium\">\n                          Score: {payload[0].value}%\n                        </p>\n                        <p className=\"text-xs text-muted-foreground\">\n                          {payload[0].payload.date}\n                        </p>\n                      </div>\n                    );\n                  }\n                  return null;\n                }}\n              />\n              <Line\n                type=\"monotone\"\n                dataKey=\"score\"\n                stroke=\"hsl(var(--primary))\"\n                strokeWidth={2}\n              />\n            </LineChart>\n          </ResponsiveContainer>\n        </div>\n      </CardContent>\n    </Card>\n  );\n}\n"],"names":[],"mappings":";;;;AAWA;AAOA;AACA;AAjBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAFA;;;;;;AAqBe,SAAS,iBAAiB,EAAE,WAAW,EAAE;IACtD,MAAM,CAAC,WAAW,aAAa,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IAE7C,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,aAAa;YACf,MAAM,gBAAgB,YAAY,GAAG,CAAC,CAAC,aAAe,CAAC;oBACrD,MAAM,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EAAE,IAAI,KAAK,WAAW,SAAS,GAAG;oBAC7C,OAAO,WAAW,SAAS;gBAC7B,CAAC;YACD,aAAa;QACf;IACF,GAAG;QAAC;KAAY;IAEhB,qBACE,8OAAC,yHAAA,CAAA,OAAI;;0BACH,8OAAC,yHAAA,CAAA,aAAU;;kCACT,8OAAC,yHAAA,CAAA,YAAS;wBAAC,WAAU;kCAAsC;;;;;;kCAG3D,8OAAC,yHAAA,CAAA,kBAAe;kCAAC;;;;;;;;;;;;0BAEnB,8OAAC,yHAAA,CAAA,cAAW;0BACV,cAAA,8OAAC;oBAAI,WAAU;8BACb,cAAA,8OAAC,mKAAA,CAAA,sBAAmB;wBAAC,OAAM;wBAAO,QAAO;kCACvC,cAAA,8OAAC,qJAAA,CAAA,YAAS;4BAAC,MAAM;;8CACf,8OAAC,6JAAA,CAAA,gBAAa;oCAAC,iBAAgB;;;;;;8CAC/B,8OAAC,qJAAA,CAAA,QAAK;oCAAC,SAAQ;;;;;;8CACf,8OAAC,qJAAA,CAAA,QAAK;oCAAC,QAAQ;wCAAC;wCAAG;qCAAI;;;;;;8CACvB,8OAAC,uJAAA,CAAA,UAAO;oCACN,SAAS,CAAC,EAAE,MAAM,EAAE,OAAO,EAAE;wCAC3B,IAAI,UAAU,SAAS,QAAQ;4CAC7B,qBACE,8OAAC;gDAAI,WAAU;;kEACb,8OAAC;wDAAE,WAAU;;4DAAsB;4DACzB,OAAO,CAAC,EAAE,CAAC,KAAK;4DAAC;;;;;;;kEAE3B,8OAAC;wDAAE,WAAU;kEACV,OAAO,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI;;;;;;;;;;;;wCAIhC;wCACA,OAAO;oCACT;;;;;;8CAEF,8OAAC,oJAAA,CAAA,OAAI;oCACH,MAAK;oCACL,SAAQ;oCACR,QAAO;oCACP,aAAa;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAQ7B"}},
    {"offset": {"line": 257, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 263, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/button.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground shadow hover:bg-primary/90\",\n        destructive:\n          \"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90\",\n        outline:\n          \"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground\",\n        secondary:\n          \"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80\",\n        ghost: \"hover:bg-accent hover:text-accent-foreground\",\n        link: \"text-primary underline-offset-4 hover:underline\",\n      },\n      size: {\n        default: \"h-9 px-4 py-2\",\n        sm: \"h-8 rounded-md px-3 text-xs\",\n        lg: \"h-10 rounded-md px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  }\n)\n\nconst Button = React.forwardRef(({ className, variant, size, asChild = false, ...props }, ref) => {\n  const Comp = asChild ? Slot : \"button\"\n  return (\n    (<Comp\n      className={cn(buttonVariants({ variant, size, className }))}\n      ref={ref}\n      {...props} />)\n  );\n})\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;AAEA;AAHA;;;;;;AAKA,MAAM,iBAAiB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACvB,ySACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE;YACF,WACE;YACF,OAAO;YACP,MAAM;QACR;QACA,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AAGF,MAAM,uBAAS,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxF,MAAM,OAAO,UAAU,gKAAA,CAAA,OAAI,GAAG;IAC9B,qBACG,8OAAC;QACA,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAEf;AACA,OAAO,WAAW,GAAG"}},
    {"offset": {"line": 317, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 323, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/dialog.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props} />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}>\n      {children}\n      <DialogPrimitive.Close\n        className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col space-y-1.5 text-center sm:text-left\", className)}\n    {...props} />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}) => (\n  <div\n    className={cn(\"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\", className)}\n    {...props} />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\"text-lg font-semibold leading-none tracking-tight\", className)}\n    {...props} />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props} />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogTrigger,\n  DialogClose,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,SAAS,mKAAgB,IAAI;AAEnC,MAAM,gBAAgB,mKAAgB,OAAO;AAE7C,MAAM,eAAe,mKAAgB,MAAM;AAE3C,MAAM,cAAc,mKAAgB,KAAK;AAEzC,MAAM,8BAAgB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC/D,8OAAC,mKAAgB,OAAO;QACtB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,2JACA;QAED,GAAG,KAAK;;;;;;AAEb,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,8BAAgB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACzE,8OAAC;;0BACC,8OAAC;;;;;0BACD,8OAAC,mKAAgB,OAAO;gBACtB,KAAK;gBACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,+fACA;gBAED,GAAG,KAAK;;oBACR;kCACD,8OAAC,mKAAgB,KAAK;wBACpB,WAAU;;0CACV,8OAAC,4LAAA,CAAA,IAAC;gCAAC,WAAU;;;;;;0CACb,8OAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,mKAAgB,OAAO,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACJ,iBACC,8OAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,sDAAsD;QACnE,GAAG,KAAK;;;;;;AAEb,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACJ,iBACC,8OAAC;QACC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iEAAiE;QAC9E,GAAG,KAAK;;;;;;AAEb,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC,mKAAgB,KAAK;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,qDAAqD;QAClE,GAAG,KAAK;;;;;;AAEb,YAAY,WAAW,GAAG,mKAAgB,KAAK,CAAC,WAAW;AAE3D,MAAM,kCAAoB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACnE,8OAAC,mKAAgB,WAAW;QAC1B,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iCAAiC;QAC9C,GAAG,KAAK;;;;;;AAEb,kBAAkB,WAAW,GAAG,mKAAgB,WAAW,CAAC,WAAW"}},
    {"offset": {"line": 449, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 455, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/progress.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as ProgressPrimitive from \"@radix-ui/react-progress\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Progress = React.forwardRef(({ className, value, ...props }, ref) => (\n  <ProgressPrimitive.Root\n    ref={ref}\n    className={cn(\n      \"relative h-2 w-full overflow-hidden rounded-full bg-primary/20\",\n      className\n    )}\n    {...props}>\n    <ProgressPrimitive.Indicator\n      className=\"h-full w-full flex-1 bg-primary transition-all\"\n      style={{ transform: `translateX(-${100 - (value || 0)}%)` }} />\n  </ProgressPrimitive.Root>\n))\nProgress.displayName = ProgressPrimitive.Root.displayName\n\nexport { Progress }\n"],"names":[],"mappings":";;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,yBAAW,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,KAAK,EAAE,GAAG,OAAO,EAAE,oBACjE,8OAAC,qKAAkB,IAAI;QACrB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kEACA;QAED,GAAG,KAAK;kBACT,cAAA,8OAAC,qKAAkB,SAAS;YAC1B,WAAU;YACV,OAAO;gBAAE,WAAW,CAAC,YAAY,EAAE,MAAM,CAAC,SAAS,CAAC,EAAE,EAAE,CAAC;YAAC;;;;;;;;;;;AAGhE,SAAS,WAAW,GAAG,qKAAkB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 488, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 494, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz-result.jsx"],"sourcesContent":["\"use client\";\n\nimport { Trophy, CheckCircle2, XCircle } from \"lucide-react\";\nimport { Button } from \"@/components/ui/button\";\nimport { CardContent, CardFooter } from \"@/components/ui/card\";\nimport { Progress } from \"@/components/ui/progress\";\n\nexport default function QuizResult({\n  result,\n  hideStartNew = false,\n  onStartNew,\n}) {\n  if (!result) return null;\n\n  return (\n    <div className=\"mx-auto\">\n      <h1 className=\"flex items-center gap-2 text-3xl gradient-title\">\n        <Trophy className=\"h-6 w-6 text-yellow-500\" />\n        Quiz Results\n      </h1>\n\n      <CardContent className=\"space-y-6\">\n        {/* Score Overview */}\n        <div className=\"text-center space-y-2\">\n          <h3 className=\"text-2xl font-bold\">{result.quizScore.toFixed(1)}%</h3>\n          <Progress value={result.quizScore} className=\"w-full\" />\n        </div>\n\n        {/* Improvement Tip */}\n        {result.improvementTip && (\n          <div className=\"bg-muted p-4 rounded-lg\">\n            <p className=\"font-medium\">Improvement Tip:</p>\n            <p className=\"text-muted-foreground\">{result.improvementTip}</p>\n          </div>\n        )}\n\n        {/* Questions Review */}\n        <div className=\"space-y-4\">\n          <h3 className=\"font-medium\">Question Review</h3>\n          {result.questions.map((q, index) => (\n            <div key={index} className=\"border rounded-lg p-4 space-y-2\">\n              <div className=\"flex items-start justify-between gap-2\">\n                <p className=\"font-medium\">{q.question}</p>\n                {q.isCorrect ? (\n                  <CheckCircle2 className=\"h-5 w-5 text-green-500 flex-shrink-0\" />\n                ) : (\n                  <XCircle className=\"h-5 w-5 text-red-500 flex-shrink-0\" />\n                )}\n              </div>\n              <div className=\"text-sm text-muted-foreground\">\n                <p>Your answer: {q.userAnswer}</p>\n                {!q.isCorrect && <p>Correct answer: {q.answer}</p>}\n              </div>\n              <div className=\"text-sm bg-muted p-2 rounded\">\n                <p className=\"font-medium\">Explanation:</p>\n                <p>{q.explanation}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n      </CardContent>\n\n      {!hideStartNew && (\n        <CardFooter>\n          <Button onClick={onStartNew} className=\"w-full\">\n            Start New Quiz\n          </Button>\n        </CardFooter>\n      )}\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAGA;AACA;AACA;AAHA;AAAA;AAAA;AAFA;;;;;;AAOe,SAAS,WAAW,EACjC,MAAM,EACN,eAAe,KAAK,EACpB,UAAU,EACX;IACC,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE,8OAAC;QAAI,WAAU;;0BACb,8OAAC;gBAAG,WAAU;;kCACZ,8OAAC,sMAAA,CAAA,SAAM;wBAAC,WAAU;;;;;;oBAA4B;;;;;;;0BAIhD,8OAAC,yHAAA,CAAA,cAAW;gBAAC,WAAU;;kCAErB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;;oCAAsB,OAAO,SAAS,CAAC,OAAO,CAAC;oCAAG;;;;;;;0CAChE,8OAAC,6HAAA,CAAA,WAAQ;gCAAC,OAAO,OAAO,SAAS;gCAAE,WAAU;;;;;;;;;;;;oBAI9C,OAAO,cAAc,kBACpB,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAE,WAAU;0CAAc;;;;;;0CAC3B,8OAAC;gCAAE,WAAU;0CAAyB,OAAO,cAAc;;;;;;;;;;;;kCAK/D,8OAAC;wBAAI,WAAU;;0CACb,8OAAC;gCAAG,WAAU;0CAAc;;;;;;4BAC3B,OAAO,SAAS,CAAC,GAAG,CAAC,CAAC,GAAG,sBACxB,8OAAC;oCAAgB,WAAU;;sDACzB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAe,EAAE,QAAQ;;;;;;gDACrC,EAAE,SAAS,iBACV,8OAAC,qNAAA,CAAA,eAAY;oDAAC,WAAU;;;;;yEAExB,8OAAC,4MAAA,CAAA,UAAO;oDAAC,WAAU;;;;;;;;;;;;sDAGvB,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;;wDAAE;wDAAc,EAAE,UAAU;;;;;;;gDAC5B,CAAC,EAAE,SAAS,kBAAI,8OAAC;;wDAAE;wDAAiB,EAAE,MAAM;;;;;;;;;;;;;sDAE/C,8OAAC;4CAAI,WAAU;;8DACb,8OAAC;oDAAE,WAAU;8DAAc;;;;;;8DAC3B,8OAAC;8DAAG,EAAE,WAAW;;;;;;;;;;;;;mCAfX;;;;;;;;;;;;;;;;;YAsBf,CAAC,8BACA,8OAAC,yHAAA,CAAA,aAAU;0BACT,cAAA,8OAAC,2HAAA,CAAA,SAAM;oBAAC,SAAS;oBAAY,WAAU;8BAAS;;;;;;;;;;;;;;;;;AAO1D"}},
    {"offset": {"line": 725, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 731, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz-list.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState } from \"react\";\nimport { format } from \"date-fns\";\nimport { useRouter } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport QuizResult from \"./quiz-result\";\n\nexport default function QuizList({ assessments }) {\n  const router = useRouter();\n  const [selectedQuiz, setSelectedQuiz] = useState(null);\n\n  return (\n    <>\n      <Card>\n        <CardHeader>\n          <div className=\"flex items-center justify-between\">\n            <div>\n              <CardTitle className=\"gradient-title text-3xl md:text-4xl\">\n                Recent Quizzes\n              </CardTitle>\n              <CardDescription>\n                Review your past quiz performance\n              </CardDescription>\n            </div>\n            <Button onClick={() => router.push(\"/interview/mock\")}>\n              Start New Quiz\n            </Button>\n          </div>\n        </CardHeader>\n        <CardContent>\n          <div className=\"space-y-4\">\n            {assessments?.map((assessment, i) => (\n              <Card\n                key={assessment.id}\n                className=\"cursor-pointer hover:bg-muted/50 transition-colors\"\n                onClick={() => setSelectedQuiz(assessment)}\n              >\n                <CardHeader>\n                  <CardTitle className=\"gradient-title text-2xl\">\n                    Quiz {i + 1}\n                  </CardTitle>\n                  <CardDescription className=\"flex justify-between w-full\">\n                    <div>Score: {assessment.quizScore.toFixed(1)}%</div>\n                    <div>\n                      {format(\n                        new Date(assessment.createdAt),\n                        \"MMMM dd, yyyy HH:mm\"\n                      )}\n                    </div>\n                  </CardDescription>\n                </CardHeader>\n                {assessment.improvementTip && (\n                  <CardContent>\n                    <p className=\"text-sm text-muted-foreground\">\n                      {assessment.improvementTip}\n                    </p>\n                  </CardContent>\n                )}\n              </Card>\n            ))}\n          </div>\n        </CardContent>\n      </Card>\n\n      <Dialog open={!!selectedQuiz} onOpenChange={() => setSelectedQuiz(null)}>\n        <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle></DialogTitle>\n          </DialogHeader>\n          <QuizResult\n            result={selectedQuiz}\n            hideStartNew\n            onStartNew={() => router.push(\"/interview/mock\")}\n          />\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;AAEA;AAEA;AACA;AACA;AAOA;AAMA;AAhBA;AAHA;;;;;;;;;AAqBe,SAAS,SAAS,EAAE,WAAW,EAAE;IAC9C,MAAM,SAAS,CAAA,GAAA,kIAAA,CAAA,YAAS,AAAD;IACvB,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,qBACE;;0BACE,8OAAC,yHAAA,CAAA,OAAI;;kCACH,8OAAC,yHAAA,CAAA,aAAU;kCACT,cAAA,8OAAC;4BAAI,WAAU;;8CACb,8OAAC;;sDACC,8OAAC,yHAAA,CAAA,YAAS;4CAAC,WAAU;sDAAsC;;;;;;sDAG3D,8OAAC,yHAAA,CAAA,kBAAe;sDAAC;;;;;;;;;;;;8CAInB,8OAAC,2HAAA,CAAA,SAAM;oCAAC,SAAS,IAAM,OAAO,IAAI,CAAC;8CAAoB;;;;;;;;;;;;;;;;;kCAK3D,8OAAC,yHAAA,CAAA,cAAW;kCACV,cAAA,8OAAC;4BAAI,WAAU;sCACZ,aAAa,IAAI,CAAC,YAAY,kBAC7B,8OAAC,yHAAA,CAAA,OAAI;oCAEH,WAAU;oCACV,SAAS,IAAM,gBAAgB;;sDAE/B,8OAAC,yHAAA,CAAA,aAAU;;8DACT,8OAAC,yHAAA,CAAA,YAAS;oDAAC,WAAU;;wDAA0B;wDACvC,IAAI;;;;;;;8DAEZ,8OAAC,yHAAA,CAAA,kBAAe;oDAAC,WAAU;;sEACzB,8OAAC;;gEAAI;gEAAQ,WAAW,SAAS,CAAC,OAAO,CAAC;gEAAG;;;;;;;sEAC7C,8OAAC;sEACE,CAAA,GAAA,qJAAA,CAAA,SAAM,AAAD,EACJ,IAAI,KAAK,WAAW,SAAS,GAC7B;;;;;;;;;;;;;;;;;;wCAKP,WAAW,cAAc,kBACxB,8OAAC,yHAAA,CAAA,cAAW;sDACV,cAAA,8OAAC;gDAAE,WAAU;0DACV,WAAW,cAAc;;;;;;;;;;;;mCArB3B,WAAW,EAAE;;;;;;;;;;;;;;;;;;;;;0BA+B5B,8OAAC,2HAAA,CAAA,SAAM;gBAAC,MAAM,CAAC,CAAC;gBAAc,cAAc,IAAM,gBAAgB;0BAChE,cAAA,8OAAC,2HAAA,CAAA,gBAAa;oBAAC,WAAU;;sCACvB,8OAAC,2HAAA,CAAA,eAAY;sCACX,cAAA,8OAAC,2HAAA,CAAA,cAAW;;;;;;;;;;sCAEd,8OAAC,8JAAA,CAAA,UAAU;4BACT,QAAQ;4BACR,YAAY;4BACZ,YAAY,IAAM,OAAO,IAAI,CAAC;;;;;;;;;;;;;;;;;;;AAM1C"}},
    {"offset": {"line": 933, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 939, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/radio-group.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as RadioGroupPrimitive from \"@radix-ui/react-radio-group\"\nimport { Circle } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst RadioGroup = React.forwardRef(({ className, ...props }, ref) => {\n  return (<RadioGroupPrimitive.Root className={cn(\"grid gap-2\", className)} {...props} ref={ref} />);\n})\nRadioGroup.displayName = RadioGroupPrimitive.Root.displayName\n\nconst RadioGroupItem = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    (<RadioGroupPrimitive.Item\n      ref={ref}\n      className={cn(\n        \"aspect-square h-4 w-4 rounded-full border border-primary text-primary shadow focus:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50\",\n        className\n      )}\n      {...props}>\n      <RadioGroupPrimitive.Indicator className=\"flex items-center justify-center\">\n        <Circle className=\"h-3.5 w-3.5 fill-primary\" />\n      </RadioGroupPrimitive.Indicator>\n    </RadioGroupPrimitive.Item>)\n  );\n})\nRadioGroupItem.displayName = RadioGroupPrimitive.Item.displayName\n\nexport { RadioGroup, RadioGroupItem }\n"],"names":[],"mappings":";;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,2BAAa,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC5D,qBAAQ,8OAAC,2KAAoB,IAAI;QAAC,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;QAAa,GAAG,KAAK;QAAE,KAAK;;;;;;AAC5F;AACA,WAAW,WAAW,GAAG,2KAAoB,IAAI,CAAC,WAAW;AAE7D,MAAM,+BAAiB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAChE,qBACG,8OAAC,2KAAoB,IAAI;QACxB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,gMACA;QAED,GAAG,KAAK;kBACT,cAAA,8OAAC,2KAAoB,SAAS;YAAC,WAAU;sBACvC,cAAA,8OAAC,sMAAA,CAAA,SAAM;gBAAC,WAAU;;;;;;;;;;;;;;;;AAI1B;AACA,eAAe,WAAW,GAAG,2KAAoB,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 993, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 999, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/label.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as LabelPrimitive from \"@radix-ui/react-label\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst labelVariants = cva(\n  \"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70\"\n)\n\nconst Label = React.forwardRef(({ className, ...props }, ref) => (\n  <LabelPrimitive.Root ref={ref} className={cn(labelVariants(), className)} {...props} />\n))\nLabel.displayName = LabelPrimitive.Root.displayName\n\nexport { Label }\n"],"names":[],"mappings":";;;;AAEA;AAEA;AAEA;AAHA;AAHA;;;;;;AAQA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB;AAGF,MAAM,sBAAQ,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBACvD,8OAAC,kKAAe,IAAI;QAAC,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,iBAAiB;QAAa,GAAG,KAAK;;;;;;AAErF,MAAM,WAAW,GAAG,kKAAe,IAAI,CAAC,WAAW"}},
    {"offset": {"line": 1025, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1031, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview.js"],"sourcesContent":["\"use server\";\n\nimport { db } from \"@/lib/prisma\";\nimport { auth } from \"@clerk/nextjs/server\";\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\n\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\nconst model = genAI.getGenerativeModel({ model: \"gemini-flash-latest\" });\n\nexport async function generateQuiz() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n    select: {\n      industry: true,\n      skills: true,\n    },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const prompt = `\n    Generate 10 technical interview questions for a ${user.industry\n    } professional${user.skills?.length ? ` with expertise in ${user.skills.join(\", \")}` : \"\"\n    }.\n    \n    Each question should be multiple choice with 4 options.\n    \n    Return the response in this JSON format only, no additional text:\n    {\n      \"questions\": [\n        {\n          \"question\": \"string\",\n          \"options\": [\"string\", \"string\", \"string\", \"string\"],\n          \"correctAnswer\": \"string\",\n          \"explanation\": \"string\"\n        }\n      ]\n    }\n  `;\n\n  try {\n    const result = await model.generateContent(prompt);\n    const response = result.response;\n    const text = response.text();\n    const cleanedText = text.replace(/```(?:json)?\\n?/g, \"\").replace(/```/g, \"\").trim();\n    const quiz = JSON.parse(cleanedText);\n\n    return quiz.questions;\n  } catch (error) {\n    console.error(\"Error generating quiz:\", error);\n    throw new Error(error.message || \"Failed to generate quiz questions\");\n  }\n}\n\nexport async function saveQuizResult(questions, answers, score) {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  const questionResults = questions.map((q, index) => ({\n    question: q.question,\n    answer: q.correctAnswer,\n    userAnswer: answers[index],\n    isCorrect: q.correctAnswer === answers[index],\n    explanation: q.explanation,\n  }));\n\n  // Get wrong answers\n  const wrongAnswers = questionResults.filter((q) => !q.isCorrect);\n\n  // Only generate improvement tips if there are wrong answers\n  let improvementTip = null;\n  if (wrongAnswers.length > 0) {\n    const wrongQuestionsText = wrongAnswers\n      .map(\n        (q) =>\n          `Question: \"${q.question}\"\\nCorrect Answer: \"${q.answer}\"\\nUser Answer: \"${q.userAnswer}\"`\n      )\n      .join(\"\\n\\n\");\n\n    const improvementPrompt = `\n      The user got the following ${user.industry} technical interview questions wrong:\n\n      ${wrongQuestionsText}\n\n      Based on these mistakes, provide a concise, specific improvement tip.\n      Focus on the knowledge gaps revealed by these wrong answers.\n      Keep the response under 2 sentences and make it encouraging.\n      Don't explicitly mention the mistakes, instead focus on what to learn/practice.\n    `;\n\n    try {\n      const tipResult = await model.generateContent(improvementPrompt);\n\n      improvementTip = tipResult.response.text().trim();\n      console.log(improvementTip);\n    } catch (error) {\n      console.error(\"Error generating improvement tip:\", error);\n      // Continue without improvement tip if generation fails\n    }\n  }\n\n  try {\n    const assessment = await db.assessment.create({\n      data: {\n        userId: user.id,\n        quizScore: score,\n        questions: questionResults,\n        category: \"Technical\",\n        improvementTip,\n      },\n    });\n\n    return assessment;\n  } catch (error) {\n    console.error(\"Error saving quiz result:\", error);\n    throw new Error(\"Failed to save quiz result\");\n  }\n}\n\nexport async function getAssessments() {\n  const { userId } = await auth();\n  if (!userId) throw new Error(\"Unauthorized\");\n\n  const user = await db.user.findUnique({\n    where: { clerkUserId: userId },\n  });\n\n  if (!user) throw new Error(\"User not found\");\n\n  try {\n    const assessments = await db.assessment.findMany({\n      where: {\n        userId: user.id,\n      },\n      orderBy: {\n        createdAt: \"asc\",\n      },\n    });\n\n    return assessments;\n  } catch (error) {\n    console.error(\"Error fetching assessments:\", error);\n    throw new Error(\"Failed to fetch assessments\");\n  }\n}\n"],"names":[],"mappings":";;;;;;;IASsB;IAgDA;IAuEA"}},
    {"offset": {"line": 1041, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1047, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/hooks/use-fetch.js"],"sourcesContent":["import { useState } from \"react\";\nimport { toast } from \"sonner\";\n\nconst useFetch = (cb) => {\n  const [data, setData] = useState(undefined);\n  const [loading, setLoading] = useState(null);\n  const [error, setError] = useState(null);\n\n  const fn = async (...args) => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await cb(...args);\n      setData(response);\n      setError(null);\n      return response; // Return the response so it can be used\n    } catch (error) {\n      setError(error);\n      toast.error(error.message);\n      throw error; // Re-throw so the caller can handle it\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return { data, loading, error, fn, setData };\n};\n\nexport default useFetch;\n"],"names":[],"mappings":";;;AAAA;AACA;;;AAEA,MAAM,WAAW,CAAC;IAChB,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACjC,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,MAAM,KAAK,OAAO,GAAG;QACnB,WAAW;QACX,SAAS;QAET,IAAI;YACF,MAAM,WAAW,MAAM,MAAM;YAC7B,QAAQ;YACR,SAAS;YACT,OAAO,UAAU,wCAAwC;QAC3D,EAAE,OAAO,OAAO;YACd,SAAS;YACT,wIAAA,CAAA,QAAK,CAAC,KAAK,CAAC,MAAM,OAAO;YACzB,MAAM,OAAO,uCAAuC;QACtD,SAAU;YACR,WAAW;QACb;IACF;IAEA,OAAO;QAAE;QAAM;QAAS;QAAO;QAAI;IAAQ;AAC7C;uCAEe"}},
    {"offset": {"line": 1083, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1089, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/quiz.jsx"],"sourcesContent":["\"use client\";\n\nimport { useState, useEffect } from \"react\";\nimport { toast } from \"sonner\";\nimport { Button } from \"@/components/ui/button\";\nimport {\n  Card,\n  CardContent,\n  CardFooter,\n  CardHeader,\n  CardTitle,\n} from \"@/components/ui/card\";\nimport { RadioGroup, RadioGroupItem } from \"@/components/ui/radio-group\";\nimport { Label } from \"@/components/ui/label\";\nimport { generateQuiz, saveQuizResult } from \"@/actions/interview\";\nimport QuizResult from \"./quiz-result\";\nimport useFetch from \"@/hooks/use-fetch\";\nimport { BarLoader } from \"react-spinners\";\n\nexport default function Quiz() {\n  const [currentQuestion, setCurrentQuestion] = useState(0);\n  const [answers, setAnswers] = useState([]);\n  const [showExplanation, setShowExplanation] = useState(false);\n\n  const {\n    loading: generatingQuiz,\n    fn: generateQuizFn,\n    data: quizData,\n  } = useFetch(generateQuiz);\n\n  const {\n    loading: savingResult,\n    fn: saveQuizResultFn,\n    data: resultData,\n    setData: setResultData,\n  } = useFetch(saveQuizResult);\n\n  useEffect(() => {\n    if (quizData) {\n      setAnswers(new Array(quizData.length).fill(null));\n    }\n  }, [quizData]);\n\n  const handleAnswer = (answer) => {\n    const newAnswers = [...answers];\n    newAnswers[currentQuestion] = answer;\n    setAnswers(newAnswers);\n  };\n\n  const handleNext = () => {\n    if (currentQuestion < quizData.length - 1) {\n      setCurrentQuestion(currentQuestion + 1);\n      setShowExplanation(false);\n    } else {\n      finishQuiz();\n    }\n  };\n\n  const calculateScore = () => {\n    let correct = 0;\n    answers.forEach((answer, index) => {\n      if (answer === quizData[index].correctAnswer) {\n        correct++;\n      }\n    });\n    return (correct / quizData.length) * 100;\n  };\n\n  const finishQuiz = async () => {\n    const score = calculateScore();\n    try {\n      await saveQuizResultFn(quizData, answers, score);\n      toast.success(\"Quiz completed!\");\n    } catch (error) {\n      toast.error(error.message || \"Failed to save quiz results\");\n    }\n  };\n\n  const startNewQuiz = () => {\n    setCurrentQuestion(0);\n    setAnswers([]);\n    setShowExplanation(false);\n    generateQuizFn();\n    setResultData(null);\n  };\n\n  if (generatingQuiz) {\n    return <BarLoader className=\"mt-4\" width={\"100%\"} color=\"gray\" />;\n  }\n\n  // Show results if quiz is completed\n  if (resultData) {\n    return (\n      <div className=\"mx-2\">\n        <QuizResult result={resultData} onStartNew={startNewQuiz} />\n      </div>\n    );\n  }\n\n  if (!quizData) {\n    return (\n      <Card className=\"mx-2\">\n        <CardHeader>\n          <CardTitle>Ready to test your knowledge?</CardTitle>\n        </CardHeader>\n        <CardContent>\n          <p className=\"text-muted-foreground\">\n            This quiz contains 10 questions specific to your industry and\n            skills. Take your time and choose the best answer for each question.\n          </p>\n        </CardContent>\n        <CardFooter>\n          <Button onClick={generateQuizFn} className=\"w-full\">\n            Start Quiz\n          </Button>\n        </CardFooter>\n      </Card>\n    );\n  }\n\n  const question = quizData[currentQuestion];\n\n  return (\n    <Card className=\"mx-2\">\n      <CardHeader>\n        <CardTitle>\n          Question {currentQuestion + 1} of {quizData.length}\n        </CardTitle>\n      </CardHeader>\n      <CardContent className=\"space-y-4\">\n        <p className=\"text-lg font-medium\">{question.question}</p>\n        <RadioGroup\n          onValueChange={handleAnswer}\n          value={answers[currentQuestion]}\n          className=\"space-y-2\"\n        >\n          {question.options.map((option, index) => (\n            <div key={index} className=\"flex items-center space-x-2\">\n              <RadioGroupItem value={option} id={`option-${index}`} />\n              <Label htmlFor={`option-${index}`}>{option}</Label>\n            </div>\n          ))}\n        </RadioGroup>\n\n        {showExplanation && (\n          <div className=\"mt-4 p-4 bg-muted rounded-lg\">\n            <p className=\"font-medium\">Explanation:</p>\n            <p className=\"text-muted-foreground\">{question.explanation}</p>\n          </div>\n        )}\n      </CardContent>\n      <CardFooter className=\"flex justify-between\">\n        {!showExplanation && (\n          <Button\n            onClick={() => setShowExplanation(true)}\n            variant=\"outline\"\n            disabled={!answers[currentQuestion]}\n          >\n            Show Explanation\n          </Button>\n        )}\n        <Button\n          onClick={handleNext}\n          disabled={!answers[currentQuestion] || savingResult}\n          className=\"ml-auto\"\n        >\n          {savingResult && (\n            <BarLoader className=\"mt-4\" width={\"100%\"} color=\"gray\" />\n          )}\n          {currentQuestion < quizData.length - 1\n            ? \"Next Question\"\n            : \"Finish Quiz\"}\n        </Button>\n      </CardFooter>\n    </Card>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1395, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1401, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/tabs.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as TabsPrimitive from \"@radix-ui/react-tabs\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Tabs = TabsPrimitive.Root\n\nconst TabsList = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.List\n    ref={ref}\n    className={cn(\n      \"inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground\",\n      className\n    )}\n    {...props} />\n))\nTabsList.displayName = TabsPrimitive.List.displayName\n\nconst TabsTrigger = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow\",\n      className\n    )}\n    {...props} />\n))\nTabsTrigger.displayName = TabsPrimitive.Trigger.displayName\n\nconst TabsContent = React.forwardRef(({ className, ...props }, ref) => (\n  <TabsPrimitive.Content\n    ref={ref}\n    className={cn(\n      \"mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2\",\n      className\n    )}\n    {...props} />\n))\nTabsContent.displayName = TabsPrimitive.Content.displayName\n\nexport { Tabs, TabsList, TabsTrigger, TabsContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AAGA;AAFA;AAHA;;;;;AAOA,MAAM,OAAO,iKAAc,IAAI;AAE/B,MAAM,yBAAW,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1D,8OAAC,iKAAc,IAAI;QACjB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,6FACA;QAED,GAAG,KAAK;;;;;;AAEb,SAAS,WAAW,GAAG,iKAAc,IAAI,CAAC,WAAW;AAErD,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC,iKAAc,OAAO;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kYACA;QAED,GAAG,KAAK;;;;;;AAEb,YAAY,WAAW,GAAG,iKAAc,OAAO,CAAC,WAAW;AAE3D,MAAM,4BAAc,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC7D,8OAAC,iKAAc,OAAO;QACpB,KAAK;QACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,mIACA;QAED,GAAG,KAAK;;;;;;AAEb,YAAY,WAAW,GAAG,iKAAc,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 1448, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1454, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/interview-tabs.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Brain, ClipboardList, Video } from \"lucide-react\";\r\n\r\nexport default function InterviewTabs({ children }) {\r\n    return (\r\n        <Tabs defaultValue=\"dashboard\" className=\"w-full\">\r\n            <TabsList className=\"grid w-full grid-cols-3 mb-6\">\r\n                <TabsTrigger value=\"dashboard\" className=\"flex items-center gap-2\">\r\n                    <ClipboardList className=\"h-4 w-4\" />\r\n                    <span className=\"hidden sm:inline\">Dashboard</span>\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"quiz\" className=\"flex items-center gap-2\">\r\n                    <Brain className=\"h-4 w-4\" />\r\n                    <span className=\"hidden sm:inline\">Quiz</span>\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"real-prep\" className=\"flex items-center gap-2\">\r\n                    <Video className=\"h-4 w-4\" />\r\n                    <span className=\"hidden sm:inline\">Real Interview</span>\r\n                </TabsTrigger>\r\n            </TabsList>\r\n\r\n            {children}\r\n        </Tabs>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AAAA;AAAA;AAHA;;;;AAKe,SAAS,cAAc,EAAE,QAAQ,EAAE;IAC9C,qBACI,8OAAC,yHAAA,CAAA,OAAI;QAAC,cAAa;QAAY,WAAU;;0BACrC,8OAAC,yHAAA,CAAA,WAAQ;gBAAC,WAAU;;kCAChB,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;wBAAY,WAAU;;0CACrC,8OAAC,wNAAA,CAAA,gBAAa;gCAAC,WAAU;;;;;;0CACzB,8OAAC;gCAAK,WAAU;0CAAmB;;;;;;;;;;;;kCAEvC,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;wBAAO,WAAU;;0CAChC,8OAAC,oMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAmB;;;;;;;;;;;;kCAEvC,8OAAC,yHAAA,CAAA,cAAW;wBAAC,OAAM;wBAAY,WAAU;;0CACrC,8OAAC,oMAAA,CAAA,QAAK;gCAAC,WAAU;;;;;;0CACjB,8OAAC;gCAAK,WAAU;0CAAmB;;;;;;;;;;;;;;;;;;YAI1C;;;;;;;AAGb"}},
    {"offset": {"line": 1563, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1569, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/input.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef(({ className, type, ...props }, ref) => {\n  return (\n    (<input\n      type={type}\n      className={cn(\n        \"flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />)\n  );\n})\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC7D,qBACG,8OAAC;QACA,MAAM;QACN,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,2WACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAEf;AACA,MAAM,WAAW,GAAG"}},
    {"offset": {"line": 1592, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1598, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/textarea.jsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Textarea = React.forwardRef(({ className, ...props }, ref) => {\n  return (\n    (<textarea\n      className={cn(\n        \"flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n        className\n      )}\n      ref={ref}\n      {...props} />)\n  );\n})\nTextarea.displayName = \"Textarea\"\n\nexport { Textarea }\n"],"names":[],"mappings":";;;;AAAA;AAEA;;;;AAEA,MAAM,yBAAW,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE;IAC1D,qBACG,8OAAC;QACA,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,6QACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAEf;AACA,SAAS,WAAW,GAAG"}},
    {"offset": {"line": 1620, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1626, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/select.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as SelectPrimitive from \"@radix-ui/react-select\"\nimport { Check, ChevronDown, ChevronUp } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Select = SelectPrimitive.Root\n\nconst SelectGroup = SelectPrimitive.Group\n\nconst SelectValue = SelectPrimitive.Value\n\nconst SelectTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Trigger\n    ref={ref}\n    className={cn(\n      \"flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1\",\n      className\n    )}\n    {...props}>\n    {children}\n    <SelectPrimitive.Icon asChild>\n      <ChevronDown className=\"h-4 w-4 opacity-50\" />\n    </SelectPrimitive.Icon>\n  </SelectPrimitive.Trigger>\n))\nSelectTrigger.displayName = SelectPrimitive.Trigger.displayName\n\nconst SelectScrollUpButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollUpButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronUp className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollUpButton>\n))\nSelectScrollUpButton.displayName = SelectPrimitive.ScrollUpButton.displayName\n\nconst SelectScrollDownButton = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.ScrollDownButton\n    ref={ref}\n    className={cn(\"flex cursor-default items-center justify-center py-1\", className)}\n    {...props}>\n    <ChevronDown className=\"h-4 w-4\" />\n  </SelectPrimitive.ScrollDownButton>\n))\nSelectScrollDownButton.displayName =\n  SelectPrimitive.ScrollDownButton.displayName\n\nconst SelectContent = React.forwardRef(({ className, children, position = \"popper\", ...props }, ref) => (\n  <SelectPrimitive.Portal>\n    <SelectPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2\",\n        position === \"popper\" &&\n          \"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1\",\n        className\n      )}\n      position={position}\n      {...props}>\n      <SelectScrollUpButton />\n      <SelectPrimitive.Viewport\n        className={cn(\"p-1\", position === \"popper\" &&\n          \"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]\")}>\n        {children}\n      </SelectPrimitive.Viewport>\n      <SelectScrollDownButton />\n    </SelectPrimitive.Content>\n  </SelectPrimitive.Portal>\n))\nSelectContent.displayName = SelectPrimitive.Content.displayName\n\nconst SelectLabel = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Label\n    ref={ref}\n    className={cn(\"px-2 py-1.5 text-sm font-semibold\", className)}\n    {...props} />\n))\nSelectLabel.displayName = SelectPrimitive.Label.displayName\n\nconst SelectItem = React.forwardRef(({ className, children, ...props }, ref) => (\n  <SelectPrimitive.Item\n    ref={ref}\n    className={cn(\n      \"relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50\",\n      className\n    )}\n    {...props}>\n    <span className=\"absolute right-2 flex h-3.5 w-3.5 items-center justify-center\">\n      <SelectPrimitive.ItemIndicator>\n        <Check className=\"h-4 w-4\" />\n      </SelectPrimitive.ItemIndicator>\n    </span>\n    <SelectPrimitive.ItemText>{children}</SelectPrimitive.ItemText>\n  </SelectPrimitive.Item>\n))\nSelectItem.displayName = SelectPrimitive.Item.displayName\n\nconst SelectSeparator = React.forwardRef(({ className, ...props }, ref) => (\n  <SelectPrimitive.Separator\n    ref={ref}\n    className={cn(\"-mx-1 my-1 h-px bg-muted\", className)}\n    {...props} />\n))\nSelectSeparator.displayName = SelectPrimitive.Separator.displayName\n\nexport {\n  Select,\n  SelectGroup,\n  SelectValue,\n  SelectTrigger,\n  SelectContent,\n  SelectLabel,\n  SelectItem,\n  SelectSeparator,\n  SelectScrollUpButton,\n  SelectScrollDownButton,\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1812, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1818, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-sessions.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\n\r\n/**\r\n * Create a new interview session\r\n */\r\nexport async function createInterviewSession(sessionData) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        console.log(\"Creating interview session with data:\", {\r\n            userId: user.id,\r\n            jobRole: sessionData.jobRole,\r\n            interviewType: sessionData.interviewType,\r\n            difficulty: sessionData.difficulty,\r\n        });\r\n\r\n        const session = await db.interviewSession.create({\r\n            data: {\r\n                userId: user.id,\r\n                jobRole: sessionData.jobRole,\r\n                jobDescription: sessionData.jobDescription,\r\n                companyName: sessionData.companyName || null,\r\n                interviewType: sessionData.interviewType,\r\n                difficulty: sessionData.difficulty || \"Medium\",\r\n                duration: sessionData.duration || null,\r\n                focusAreas: sessionData.focusAreas || [],\r\n                status: \"pending\",\r\n            },\r\n        });\r\n\r\n        console.log(\"Interview session created successfully:\", session.id);\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error creating interview session:\", error);\r\n        console.error(\"Error details:\", {\r\n            name: error.name,\r\n            message: error.message,\r\n            code: error.code,\r\n            meta: error.meta,\r\n        });\r\n        throw new Error(`Failed to create interview session: ${error.message}`);\r\n    }\r\n}\r\n\r\n/**\r\n * Get all interview sessions for the current user\r\n */\r\nexport async function getInterviewSessions(limit = 10, offset = 0) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const sessions = await db.interviewSession.findMany({\r\n            where: {\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                feedback: {\r\n                    select: {\r\n                        overallScore: true,\r\n                        communicationScore: true,\r\n                    },\r\n                },\r\n                _count: {\r\n                    select: {\r\n                        questions: true,\r\n                        responses: true,\r\n                    },\r\n                },\r\n            },\r\n            orderBy: {\r\n                createdAt: \"desc\",\r\n            },\r\n            take: limit,\r\n            skip: offset,\r\n        });\r\n\r\n        return sessions;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview sessions:\", error);\r\n        throw new Error(\"Failed to fetch interview sessions\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get a specific interview session by ID with all related data\r\n */\r\nexport async function getInterviewSessionById(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                questions: {\r\n                    orderBy: {\r\n                        orderIndex: \"asc\",\r\n                    },\r\n                },\r\n                responses: {\r\n                    include: {\r\n                        question: true,\r\n                    },\r\n                },\r\n                feedback: true,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview session:\", error);\r\n        throw new Error(\"Failed to fetch interview session\");\r\n    }\r\n}\r\n\r\n/**\r\n * Update interview session status\r\n */\r\nexport async function updateInterviewSessionStatus(sessionId, status) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const updateData = {\r\n            status,\r\n            updatedAt: new Date(),\r\n        };\r\n\r\n        // Add timestamps based on status\r\n        if (status === \"in_progress\" && !updateData.startedAt) {\r\n            updateData.startedAt = new Date();\r\n        } else if (status === \"completed\") {\r\n            updateData.completedAt = new Date();\r\n        }\r\n\r\n        const session = await db.interviewSession.updateMany({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            data: updateData,\r\n        });\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error updating interview session status:\", error);\r\n        throw new Error(\"Failed to update interview session status\");\r\n    }\r\n}\r\n\r\n/**\r\n * Delete an interview session and all related data\r\n */\r\nexport async function deleteInterviewSession(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Cascade delete will handle related questions, responses, and feedback\r\n        const session = await db.interviewSession.deleteMany({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n        });\r\n\r\n        return session;\r\n    } catch (error) {\r\n        console.error(\"Error deleting interview session:\", error);\r\n        throw new Error(\"Failed to delete interview session\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get interview statistics for the current user\r\n */\r\nexport async function getInterviewStats() {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const sessions = await db.interviewSession.findMany({\r\n            where: {\r\n                userId: user.id,\r\n                status: \"completed\",\r\n            },\r\n            include: {\r\n                feedback: {\r\n                    select: {\r\n                        overallScore: true,\r\n                        technicalScore: true,\r\n                        behavioralScore: true,\r\n                        communicationScore: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        const totalInterviews = sessions.length;\r\n        const averageScore =\r\n            totalInterviews > 0\r\n                ? sessions.reduce(\r\n                    (sum, s) => sum + (s.feedback?.overallScore || 0),\r\n                    0\r\n                ) / totalInterviews\r\n                : 0;\r\n\r\n        const averageCommunicationScore =\r\n            totalInterviews > 0\r\n                ? sessions.reduce(\r\n                    (sum, s) => sum + (s.feedback?.communicationScore || 0),\r\n                    0\r\n                ) / totalInterviews\r\n                : 0;\r\n\r\n        return {\r\n            totalInterviews,\r\n            averageScore: parseFloat(averageScore.toFixed(2)),\r\n            averageCommunicationScore: parseFloat(\r\n                averageCommunicationScore.toFixed(2)\r\n            ),\r\n            completedInterviews: totalInterviews,\r\n        };\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview stats:\", error);\r\n        throw new Error(\"Failed to fetch interview stats\");\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;;;IAQsB;IAiDA;IA8CA;IA2CA;IAyCA;IA6BA"}},
    {"offset": {"line": 1834, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1840, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-ai.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\nimport { GoogleGenerativeAI } from \"@google/generative-ai\";\r\nimport { getTestQuestions } from \"./interview-test-data\";\r\n\r\nconst genAI = new GoogleGenerativeAI(process.env.GEMINI_API_KEY);\r\nconst model = genAI.getGenerativeModel({ model: \"gemini-2.5-flash\" });\r\n\r\n// Set to true to use test questions instead of Gemini API\r\nconst USE_TEST_MODE = false;\r\n\r\n/**\r\n * Generate interview questions for a session using Gemini AI\r\n */\r\nexport async function generateInterviewQuestions(\r\n    sessionId,\r\n    jobRole,\r\n    jobDescription,\r\n    interviewType,\r\n    difficulty = \"Medium\"\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n        select: {\r\n            industry: true,\r\n            skills: true,\r\n        },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    const questionCount = difficulty === \"Easy\" ? 5 : difficulty === \"Hard\" ? 8 : 6;\r\n\r\n    const prompt = `\r\n    You are an expert technical interviewer. Generate ${questionCount} interview questions for the following position:\r\n    \r\n    Job Role: ${jobRole}\r\n    Job Description: ${jobDescription}\r\n    Interview Type: ${interviewType}\r\n    Difficulty Level: ${difficulty}\r\n    ${user.industry ? `Industry: ${user.industry}` : \"\"}\r\n    ${user.skills?.length ? `Candidate Skills: ${user.skills.join(\", \")}` : \"\"}\r\n    \r\n    Generate a mix of questions based on the interview type:\r\n    - If \"Technical\": Focus on technical skills, problem-solving, and domain knowledge\r\n    - If \"Behavioral\": Focus on past experiences, soft skills, and situational responses\r\n    - If \"Mixed\": Include both technical and behavioral questions\r\n    \r\n    For each question, provide:\r\n    1. The question text\r\n    2. Category (Technical, Behavioral, or Situational)\r\n    3. Key points that should be covered in a good answer\r\n    4. Evaluation criteria\r\n    \r\n    Return ONLY valid JSON in this exact format, no additional text:\r\n    {\r\n      \"questions\": [\r\n        {\r\n          \"questionText\": \"string\",\r\n          \"category\": \"Technical|Behavioral|Situational\",\r\n          \"difficulty\": \"Easy|Medium|Hard\",\r\n          \"keyPoints\": [\"point1\", \"point2\", \"point3\"],\r\n          \"evaluationCriteria\": {\r\n            \"clarity\": \"What to look for in terms of clarity\",\r\n            \"depth\": \"What depth of knowledge is expected\",\r\n            \"relevance\": \"How relevant the answer should be\"\r\n          }\r\n        }\r\n      ]\r\n    }\r\n  `;\r\n\r\n    try {\r\n        console.log(\"Generating interview questions for session:\", sessionId);\r\n        console.log(\"Question count:\", questionCount);\r\n        console.log(\"Test mode:\", USE_TEST_MODE);\r\n\r\n        let questionsData;\r\n\r\n        if (USE_TEST_MODE) {\r\n            // Use pre-defined test questions\r\n            console.log(\"Using test questions (Gemini API bypassed)\");\r\n            const testQuestions = getTestQuestions(jobRole, interviewType, difficulty);\r\n            questionsData = { questions: testQuestions };\r\n        } else {\r\n            // Use Gemini API\r\n            const result = await model.generateContent(prompt);\r\n            const response = result.response;\r\n            const text = response.text();\r\n\r\n            console.log(\"Gemini API response received, length:\", text.length);\r\n\r\n            const cleanedText = text\r\n                .replace(/```(?:json)?\\\\n?/g, \"\")\r\n                .replace(/```/g, \"\")\r\n                .trim();\r\n\r\n            console.log(\"Raw text:\", text.substring(0, 1000)); // Log raw text for debugging\r\n\r\n            // Robust JSON extraction\r\n            let jsonString = text.trim();\r\n            const firstBrace = text.indexOf('{');\r\n            const lastBrace = text.lastIndexOf('}');\r\n\r\n            if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\r\n                jsonString = text.substring(firstBrace, lastBrace + 1);\r\n            } else {\r\n                // Fallback to basic cleaning if no braces found\r\n                jsonString = text\r\n                    .replace(/```(?:json)?\\n?/g, \"\")\r\n                    .replace(/```/g, \"\")\r\n                    .trim();\r\n            }\r\n\r\n            console.log(\"Extracted JSON for parsing:\", jsonString.substring(0, 500));\r\n\r\n            try {\r\n                questionsData = JSON.parse(jsonString);\r\n            } catch (e) {\r\n                console.error(\"Failed to parse JSON:\", e);\r\n                // console.log(\"Raw text was:\", text); // Already logged above\r\n                throw new Error(\"Failed to parse Gemini response: \" + e.message);\r\n            }\r\n        }\r\n\r\n        console.log(\"Parsed questions data structure:\", JSON.stringify(questionsData, null, 2));\r\n\r\n        // Handle case where Gemini returns just the array\r\n        if (Array.isArray(questionsData)) {\r\n            questionsData = { questions: questionsData };\r\n        }\r\n\r\n        if (!questionsData.questions || !Array.isArray(questionsData.questions)) {\r\n            console.error(\"Invalid question format received from Gemini\");\r\n            throw new Error(\"Gemini returned invalid question format: \" + JSON.stringify(questionsData).substring(0, 100));\r\n        }\r\n\r\n        console.log(\"Parsed questions data:\", questionsData.questions?.length, \"questions\");\r\n\r\n        // Save questions to database\r\n        const savedQuestions = await Promise.all(\r\n            questionsData.questions.map(async (q, index) => {\r\n                return await db.interviewQuestion.create({\r\n                    data: {\r\n                        sessionId,\r\n                        questionText: q.questionText,\r\n                        category: q.category,\r\n                        difficulty: q.difficulty,\r\n                        orderIndex: index,\r\n                        keyPoints: q.keyPoints,\r\n                        evaluationCriteria: q.evaluationCriteria,\r\n                    },\r\n                });\r\n            })\r\n        );\r\n\r\n        console.log(\"Successfully saved\", savedQuestions.length, \"questions to database\");\r\n        return savedQuestions;\r\n    } catch (error) {\r\n        console.error(\"Error generating interview questions:\", error);\r\n        console.error(\"Error name:\", error.name);\r\n        console.error(\"Error message:\", error.message);\r\n        console.error(\"Error stack:\", error.stack);\r\n        throw new Error(\r\n            error.message || \"Failed to generate interview questions\"\r\n        );\r\n    }\r\n}\r\n\r\n/**\r\n * Generate comprehensive feedback for a completed interview session\r\n */\r\nexport async function generateInterviewFeedback(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Fetch session with questions and responses\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n            include: {\r\n                questions: {\r\n                    orderBy: {\r\n                        orderIndex: \"asc\",\r\n                    },\r\n                },\r\n                responses: {\r\n                    include: {\r\n                        question: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n        if (session.responses.length === 0) {\r\n            throw new Error(\"No responses found for this session\");\r\n        }\r\n\r\n        // Prepare data for AI analysis\r\n        const qaData = session.responses.map((response) => ({\r\n            question: response.question.questionText,\r\n            category: response.question.category,\r\n            keyPoints: response.question.keyPoints,\r\n            userAnswer: response.transcription,\r\n            duration: response.duration,\r\n        }));\r\n\r\n        const prompt = `\r\n      You are an expert interview evaluator. Analyze the following interview responses and provide comprehensive feedback.\r\n      \r\n      Job Role: ${session.jobRole}\r\n      Interview Type: ${session.interviewType}\r\n      \r\n      Questions and Answers:\r\n      ${qaData\r\n                .map(\r\n                    (qa, i) => `\r\n        Q${i + 1} [${qa.category}]: ${qa.question}\r\n        Expected Key Points: ${qa.keyPoints.join(\", \")}\r\n        Candidate's Answer: ${qa.userAnswer}\r\n        Response Duration: ${qa.duration || \"N/A\"} seconds\r\n      `\r\n                )\r\n                .join(\"\\n\")}\r\n      \r\n      Provide a detailed evaluation in the following JSON format (ONLY JSON, no additional text):\r\n      {\r\n        \"overallScore\": <number 0-10>,\r\n        \"overallSummary\": \"A comprehensive summary of the interview performance\",\r\n        \"technicalScore\": <number 0-10 or null if no technical questions>,\r\n        \"behavioralScore\": <number 0-10 or null if no behavioral questions>,\r\n        \"communicationScore\": <number 0-10>,\r\n        \"strengths\": [\"strength1\", \"strength2\", \"strength3\"],\r\n        \"improvements\": [\"improvement1\", \"improvement2\", \"improvement3\"],\r\n        \"recommendations\": [\"recommendation1\", \"recommendation2\", \"recommendation3\"],\r\n        \"questionAnalysis\": [\r\n          {\r\n            \"questionIndex\": 0,\r\n            \"score\": <number 0-10>,\r\n            \"feedback\": \"Detailed feedback for this question\",\r\n            \"keyPointsCovered\": [\"point1\", \"point2\"]\r\n          }\r\n        ],\r\n        \"metricsData\": {\r\n          \"categoryScores\": {\r\n            \"Technical\": <number 0-10>,\r\n            \"Behavioral\": <number 0-10>,\r\n            \"Situational\": <number 0-10>\r\n          },\r\n          \"skillsAssessed\": [\"skill1\", \"skill2\", \"skill3\"]\r\n        }\r\n      }\r\n      \r\n      Evaluation Guidelines:\r\n      - Be constructive and encouraging\r\n      - Provide specific, actionable feedback\r\n      - Consider both content quality and communication clarity\r\n      - Assess how well key points were addressed\r\n      - Evaluate the depth and relevance of answers\r\n    `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const response = result.response;\r\n        const text = response.text();\r\n        const firstBrace = text.indexOf('{');\r\n        const lastBrace = text.lastIndexOf('}');\r\n        let cleanedText = text;\r\n\r\n        if (firstBrace !== -1 && lastBrace !== -1 && lastBrace > firstBrace) {\r\n            cleanedText = text.substring(firstBrace, lastBrace + 1);\r\n        } else {\r\n            cleanedText = text\r\n                .replace(/```(?:json)?\\n?/g, \"\")\r\n                .replace(/```/g, \"\")\r\n                .trim();\r\n        }\r\n\r\n        const feedbackData = JSON.parse(cleanedText);\r\n\r\n        // Save feedback to database\r\n        const feedback = await db.interviewFeedback.create({\r\n            data: {\r\n                sessionId,\r\n                overallScore: feedbackData.overallScore,\r\n                overallSummary: feedbackData.overallSummary,\r\n                technicalScore: feedbackData.technicalScore,\r\n                behavioralScore: feedbackData.behavioralScore,\r\n                communicationScore: feedbackData.communicationScore,\r\n                strengths: feedbackData.strengths,\r\n                improvements: feedbackData.improvements,\r\n                recommendations: feedbackData.recommendations,\r\n                questionAnalysis: feedbackData.questionAnalysis,\r\n                metricsData: feedbackData.metricsData,\r\n            },\r\n        });\r\n\r\n        return feedback;\r\n    } catch (error) {\r\n        console.error(\"Error generating interview feedback:\", error);\r\n        throw new Error(error.message || \"Failed to generate interview feedback\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get feedback for a specific interview session\r\n */\r\nexport async function getInterviewFeedback(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const feedback = await db.interviewFeedback.findFirst({\r\n            where: {\r\n                sessionId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            include: {\r\n                session: {\r\n                    select: {\r\n                        jobRole: true,\r\n                        jobDescription: true,\r\n                        interviewType: true,\r\n                        createdAt: true,\r\n                    },\r\n                },\r\n            },\r\n        });\r\n\r\n        return feedback;\r\n    } catch (error) {\r\n        console.error(\"Error fetching interview feedback:\", error);\r\n        throw new Error(\"Failed to fetch interview feedback\");\r\n    }\r\n}\r\n\r\n/**\r\n * Generate a dynamic follow-up question based on previous response\r\n */\r\nexport async function generateFollowUpQuestion(sessionId, previousResponse) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    try {\r\n        const session = await db.interviewSession.findUnique({\r\n            where: { id: sessionId },\r\n            select: {\r\n                jobRole: true,\r\n                interviewType: true,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Session not found\");\r\n\r\n        const prompt = `\r\n      You are conducting a ${session.interviewType} interview for a ${session.jobRole} position.\r\n      \r\n      The candidate just answered: \"${previousResponse}\"\r\n      \r\n      Generate ONE insightful follow-up question that:\r\n      1. Probes deeper into their answer\r\n      2. Clarifies any ambiguous points\r\n      3. Assesses their depth of knowledge\r\n      \r\n      Return ONLY the follow-up question text, nothing else.\r\n    `;\r\n\r\n        const result = await model.generateContent(prompt);\r\n        const followUpQuestion = result.response.text().trim();\r\n\r\n        return followUpQuestion;\r\n    } catch (error) {\r\n        console.error(\"Error generating follow-up question:\", error);\r\n        throw new Error(\"Failed to generate follow-up question\");\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;IAgBsB;IAiKA;IAgJA;IAwCA"}},
    {"offset": {"line": 1852, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 1858, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/create-session-dialog.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport {\r\n    Select,\r\n    SelectContent,\r\n    SelectItem,\r\n    SelectTrigger,\r\n    SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { createInterviewSession } from \"@/actions/interview-sessions\";\r\nimport { generateInterviewQuestions } from \"@/actions/interview-ai\";\r\nimport useFetch from \"@/hooks/use-fetch\";\r\nimport { BarLoader } from \"react-spinners\";\r\n\r\nexport default function CreateSessionDialog({ open, onOpenChange }) {\r\n    const router = useRouter();\r\n    const [formData, setFormData] = useState({\r\n        jobRole: \"\",\r\n        jobDescription: \"\",\r\n        companyName: \"\",\r\n        interviewType: \"Mixed\",\r\n        difficulty: \"Medium\",\r\n        duration: 30,\r\n    });\r\n\r\n    const {\r\n        loading: creating,\r\n        fn: createSessionFn,\r\n    } = useFetch(createInterviewSession);\r\n\r\n    const {\r\n        loading: generatingQuestions,\r\n        fn: generateQuestionsFn,\r\n    } = useFetch(generateInterviewQuestions);\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n\r\n        if (!formData.jobRole || !formData.jobDescription) {\r\n            toast.error(\"Please fill in all required fields\");\r\n            return;\r\n        }\r\n\r\n        try {\r\n            // Create session\r\n            const session = await createSessionFn(formData);\r\n\r\n            if (!session) {\r\n                throw new Error(\"Failed to create session\");\r\n            }\r\n\r\n            toast.success(\"Interview session created!\");\r\n\r\n            // Generate questions in background\r\n            try {\r\n                await generateQuestionsFn(\r\n                    session.id,\r\n                    formData.jobRole,\r\n                    formData.jobDescription,\r\n                    formData.interviewType,\r\n                    formData.difficulty\r\n                );\r\n                toast.success(\"Interview questions generated!\");\r\n            } catch (error) {\r\n                console.error(\"Error generating questions:\", error);\r\n                toast.error(\"Session created but failed to generate questions\");\r\n            }\r\n\r\n            // Reset form and close dialog\r\n            setFormData({\r\n                jobRole: \"\",\r\n                jobDescription: \"\",\r\n                companyName: \"\",\r\n                interviewType: \"Mixed\",\r\n                difficulty: \"Medium\",\r\n                duration: 30,\r\n            });\r\n            onOpenChange(false);\r\n\r\n            // Refresh the page to show new session\r\n            router.refresh();\r\n        } catch (error) {\r\n            console.error(\"Error creating session:\", error);\r\n            toast.error(error.message || \"Failed to create interview session\");\r\n        }\r\n    };\r\n\r\n    const isLoading = creating || generatingQuestions;\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Create New Interview Session</DialogTitle>\r\n                    <DialogDescription>\r\n                        Set up your AI interview by providing job details and preferences\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n                    {/* Job Role */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"jobRole\">\r\n                            Job Role <span className=\"text-red-500\">*</span>\r\n                        </Label>\r\n                        <Input\r\n                            id=\"jobRole\"\r\n                            placeholder=\"e.g., Senior Software Engineer\"\r\n                            value={formData.jobRole}\r\n                            onChange={(e) =>\r\n                                setFormData({ ...formData, jobRole: e.target.value })\r\n                            }\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Company Name */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"companyName\">Company Name (Optional)</Label>\r\n                        <Input\r\n                            id=\"companyName\"\r\n                            placeholder=\"e.g., Google\"\r\n                            value={formData.companyName}\r\n                            onChange={(e) =>\r\n                                setFormData({ ...formData, companyName: e.target.value })\r\n                            }\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Job Description */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"jobDescription\">\r\n                            Job Description <span className=\"text-red-500\">*</span>\r\n                        </Label>\r\n                        <Textarea\r\n                            id=\"jobDescription\"\r\n                            placeholder=\"Paste the job description or key requirements...\"\r\n                            value={formData.jobDescription}\r\n                            onChange={(e) =>\r\n                                setFormData({ ...formData, jobDescription: e.target.value })\r\n                            }\r\n                            rows={6}\r\n                            required\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Interview Type */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"interviewType\">Interview Type</Label>\r\n                        <Select\r\n                            value={formData.interviewType}\r\n                            onValueChange={(value) =>\r\n                                setFormData({ ...formData, interviewType: value })\r\n                            }\r\n                        >\r\n                            <SelectTrigger>\r\n                                <SelectValue />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                <SelectItem value=\"Technical\">Technical</SelectItem>\r\n                                <SelectItem value=\"Behavioral\">Behavioral</SelectItem>\r\n                                <SelectItem value=\"Mixed\">Mixed</SelectItem>\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n\r\n                    {/* Difficulty */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"difficulty\">Difficulty Level</Label>\r\n                        <Select\r\n                            value={formData.difficulty}\r\n                            onValueChange={(value) =>\r\n                                setFormData({ ...formData, difficulty: value })\r\n                            }\r\n                        >\r\n                            <SelectTrigger>\r\n                                <SelectValue />\r\n                            </SelectTrigger>\r\n                            <SelectContent>\r\n                                <SelectItem value=\"Easy\">Easy (5 questions)</SelectItem>\r\n                                <SelectItem value=\"Medium\">Medium (6 questions)</SelectItem>\r\n                                <SelectItem value=\"Hard\">Hard (8 questions)</SelectItem>\r\n                            </SelectContent>\r\n                        </Select>\r\n                    </div>\r\n\r\n                    {/* Duration */}\r\n                    <div className=\"space-y-2\">\r\n                        <Label htmlFor=\"duration\">Expected Duration (minutes)</Label>\r\n                        <Input\r\n                            id=\"duration\"\r\n                            type=\"number\"\r\n                            min=\"15\"\r\n                            max=\"90\"\r\n                            value={formData.duration}\r\n                            onChange={(e) =>\r\n                                setFormData({ ...formData, duration: parseInt(e.target.value) })\r\n                            }\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Submit Button */}\r\n                    <div className=\"flex justify-end gap-2 pt-4\">\r\n                        <Button\r\n                            type=\"button\"\r\n                            variant=\"outline\"\r\n                            onClick={() => onOpenChange(false)}\r\n                            disabled={isLoading}\r\n                        >\r\n                            Cancel\r\n                        </Button>\r\n                        <Button type=\"submit\" disabled={isLoading}>\r\n                            {isLoading && <BarLoader className=\"mr-2\" color=\"white\" />}\r\n                            {creating\r\n                                ? \"Creating...\"\r\n                                : generatingQuestions\r\n                                    ? \"Generating Questions...\"\r\n                                    : \"Create Interview\"}\r\n                        </Button>\r\n                    </div>\r\n                </form>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2321, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2327, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/badge.jsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva } from \"class-variance-authority\";\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  \"inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80\",\n        secondary:\n          \"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80\",\n        outline: \"text-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nfunction Badge({\n  className,\n  variant,\n  ...props\n}) {\n  return (<div className={cn(badgeVariants({ variant }), className)} {...props} />);\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;AAAA;AACA;AAEA;;;;;AAEA,MAAM,gBAAgB,CAAA,GAAA,gKAAA,CAAA,MAAG,AAAD,EACtB,wKACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WACE;YACF,aACE;YACF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,SAAS,MAAM,EACb,SAAS,EACT,OAAO,EACP,GAAG,OACJ;IACC,qBAAQ,8OAAC;QAAI,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAC9E"}},
    {"offset": {"line": 2365, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2371, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/actions/interview-responses.js"],"sourcesContent":["\"use server\";\r\n\r\nimport { db } from \"@/lib/prisma\";\r\nimport { auth } from \"@clerk/nextjs/server\";\r\n\r\n/**\r\n * Save an interview response\r\n */\r\nexport async function saveInterviewResponse(\r\n    sessionId,\r\n    questionId,\r\n    transcription,\r\n    audioUrl = null,\r\n    duration = null,\r\n    confidence = null\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        // Verify session belongs to user\r\n        const session = await db.interviewSession.findFirst({\r\n            where: {\r\n                id: sessionId,\r\n                userId: user.id,\r\n            },\r\n        });\r\n\r\n        if (!session) throw new Error(\"Interview session not found\");\r\n\r\n        const response = await db.interviewResponse.create({\r\n            data: {\r\n                sessionId,\r\n                questionId,\r\n                transcription,\r\n                audioUrl,\r\n                duration,\r\n                confidence,\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error saving interview response:\", error);\r\n        throw new Error(\"Failed to save interview response\");\r\n    }\r\n}\r\n\r\n/**\r\n * Get all responses for a session\r\n */\r\nexport async function getSessionResponses(sessionId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const responses = await db.interviewResponse.findMany({\r\n            where: {\r\n                sessionId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            include: {\r\n                question: true,\r\n            },\r\n            orderBy: {\r\n                createdAt: \"asc\",\r\n            },\r\n        });\r\n\r\n        return responses;\r\n    } catch (error) {\r\n        console.error(\"Error fetching session responses:\", error);\r\n        throw new Error(\"Failed to fetch session responses\");\r\n    }\r\n}\r\n\r\n/**\r\n * Update response transcription (useful for real-time updates from Vapi.ai)\r\n */\r\nexport async function updateResponseTranscription(\r\n    responseId,\r\n    transcription,\r\n    confidence = null\r\n) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const response = await db.interviewResponse.updateMany({\r\n            where: {\r\n                id: responseId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n            data: {\r\n                transcription,\r\n                confidence,\r\n                updatedAt: new Date(),\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error updating response transcription:\", error);\r\n        throw new Error(\"Failed to update response transcription\");\r\n    }\r\n}\r\n\r\n/**\r\n * Delete a response\r\n */\r\nexport async function deleteInterviewResponse(responseId) {\r\n    const { userId } = await auth();\r\n    if (!userId) throw new Error(\"Unauthorized\");\r\n\r\n    const user = await db.user.findUnique({\r\n        where: { clerkUserId: userId },\r\n    });\r\n\r\n    if (!user) throw new Error(\"User not found\");\r\n\r\n    try {\r\n        const response = await db.interviewResponse.deleteMany({\r\n            where: {\r\n                id: responseId,\r\n                session: {\r\n                    userId: user.id,\r\n                },\r\n            },\r\n        });\r\n\r\n        return response;\r\n    } catch (error) {\r\n        console.error(\"Error deleting interview response:\", error);\r\n        throw new Error(\"Failed to delete interview response\");\r\n    }\r\n}\r\n"],"names":[],"mappings":";;;;;;;;IAQsB;IAiDA;IAoCA;IAuCA"}},
    {"offset": {"line": 2383, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2397, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/lib/vapi-service.js"],"sourcesContent":["import Vapi from \"@vapi-ai/web\";\r\n\r\nlet vapiInstance = null;\r\n\r\n/**\r\n * Get or create Vapi instance\r\n */\r\nexport function getVapiInstance() {\r\n    if (!vapiInstance) {\r\n        const publicKey = process.env.NEXT_PUBLIC_VAPI_PUBLIC_KEY;\r\n        if (!publicKey) {\r\n            console.error(\"Vapi public key is missing!\");\r\n            throw new Error(\"NEXT_PUBLIC_VAPI_PUBLIC_KEY is not set\");\r\n        }\r\n        console.log(\"Initializing Vapi with key (starts with):\", publicKey.substring(0, 5) + \"...\");\r\n        vapiInstance = new Vapi(publicKey);\r\n    }\r\n    return vapiInstance;\r\n}\r\n\r\n/**\r\n * Start a voice interview call\r\n */\r\nexport async function startVoiceInterview(assistantConfig) {\r\n    const vapi = getVapiInstance();\r\n\r\n    try {\r\n        await vapi.start(assistantConfig);\r\n        return true;\r\n    } catch (error) {\r\n        console.error(\"Error starting voice interview:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Stop the current voice interview call\r\n */\r\nexport async function stopVoiceInterview() {\r\n    const vapi = getVapiInstance();\r\n\r\n    try {\r\n        await vapi.stop();\r\n        return true;\r\n    } catch (error) {\r\n        console.error(\"Error stopping voice interview:\", error);\r\n        throw error;\r\n    }\r\n}\r\n\r\n/**\r\n * Check if Vapi is currently in a call\r\n */\r\nexport function isInCall() {\r\n    if (!vapiInstance) return false;\r\n    return vapiInstance.isMuted !== undefined;\r\n}\r\n\r\n/**\r\n * Mute/unmute the microphone\r\n */\r\nexport function toggleMute() {\r\n    const vapi = getVapiInstance();\r\n    if (vapi.isMuted) {\r\n        vapi.setMuted(false);\r\n    } else {\r\n        vapi.setMuted(true);\r\n    }\r\n    return !vapi.isMuted;\r\n}\r\n\r\n/**\r\n * Create assistant configuration for interview\r\n */\r\nexport function createInterviewAssistant(question, sessionContext) {\r\n    return {\r\n        name: \"Interview Assistant\",\r\n        model: {\r\n            provider: \"openai\",\r\n            model: \"gpt-3.5-turbo\",\r\n            messages: [\r\n                {\r\n                    role: \"system\",\r\n                    content: `You are a professional interview assistant. The candidate will answer the following question. Listen carefully and acknowledge their response when they finish speaking.\r\n\r\nQuestion: ${question}\r\n\r\nBe encouraging and professional. When the candidate finishes, briefly acknowledge their answer and let them know they can move to the next question.`\r\n                }\r\n            ],\r\n            temperature: 0.7,\r\n        },\r\n        voice: {\r\n            provider: \"openai\",\r\n            voiceId: \"alloy\"\r\n        },\r\n        firstMessage: `Here's your question: ${question}. Please take your time to answer.`,\r\n        transcriber: {\r\n            provider: \"deepgram\",\r\n            model: \"nova-2\",\r\n            language: \"en-US\"\r\n        },\r\n        endCallFunctionEnabled: false,\r\n        recordingEnabled: true,\r\n        silenceTimeoutSeconds: 30,\r\n        maxDurationSeconds: 300,\r\n    };\r\n}\r\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,IAAI,eAAe;AAKZ,SAAS;IACZ,IAAI,CAAC,cAAc;QACf,MAAM;QACN,uCAAgB;;QAGhB;QACA,QAAQ,GAAG,CAAC,6CAA6C,UAAU,SAAS,CAAC,GAAG,KAAK;QACrF,eAAe,IAAI,mJAAA,CAAA,UAAI,CAAC;IAC5B;IACA,OAAO;AACX;AAKO,eAAe,oBAAoB,eAAe;IACrD,MAAM,OAAO;IAEb,IAAI;QACA,MAAM,KAAK,KAAK,CAAC;QACjB,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM;IACV;AACJ;AAKO,eAAe;IAClB,MAAM,OAAO;IAEb,IAAI;QACA,MAAM,KAAK,IAAI;QACf,OAAO;IACX,EAAE,OAAO,OAAO;QACZ,QAAQ,KAAK,CAAC,mCAAmC;QACjD,MAAM;IACV;AACJ;AAKO,SAAS;IACZ,IAAI,CAAC,cAAc,OAAO;IAC1B,OAAO,aAAa,OAAO,KAAK;AACpC;AAKO,SAAS;IACZ,MAAM,OAAO;IACb,IAAI,KAAK,OAAO,EAAE;QACd,KAAK,QAAQ,CAAC;IAClB,OAAO;QACH,KAAK,QAAQ,CAAC;IAClB;IACA,OAAO,CAAC,KAAK,OAAO;AACxB;AAKO,SAAS,yBAAyB,QAAQ,EAAE,cAAc;IAC7D,OAAO;QACH,MAAM;QACN,OAAO;YACH,UAAU;YACV,OAAO;YACP,UAAU;gBACN;oBACI,MAAM;oBACN,SAAS,CAAC;;UAEpB,EAAE,SAAS;;oJAE+H,CAAC;gBACrI;aACH;YACD,aAAa;QACjB;QACA,OAAO;YACH,UAAU;YACV,SAAS;QACb;QACA,cAAc,CAAC,sBAAsB,EAAE,SAAS,kCAAkC,CAAC;QACnF,aAAa;YACT,UAAU;YACV,OAAO;YACP,UAAU;QACd;QACA,wBAAwB;QACxB,kBAAkB;QAClB,uBAAuB;QACvB,oBAAoB;IACxB;AACJ"}},
    {"offset": {"line": 2486, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2492, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/hooks/useVapiInterview.js"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect, useCallback } from \"react\";\r\nimport { getVapiInstance, createInterviewAssistant } from \"@/lib/vapi-service\";\r\nimport { toast } from \"sonner\";\r\n\r\nexport default function useVapiInterview() {\r\n    const [vapi, setVapi] = useState(null);\r\n    const [isCallActive, setIsCallActive] = useState(false);\r\n    const [isSpeaking, setIsSpeaking] = useState(false);\r\n    const [transcript, setTranscript] = useState(\"\");\r\n    const [callDuration, setCallDuration] = useState(0);\r\n\r\n    useEffect(() => {\r\n        // Initialize Vapi instance\r\n        try {\r\n            const vapiInstance = getVapiInstance();\r\n            setVapi(vapiInstance);\r\n\r\n            // Set up event listeners\r\n            vapiInstance.on(\"call-start\", () => {\r\n                console.log(\"Call started\");\r\n                setIsCallActive(true);\r\n                toast.success(\"Voice interview started\");\r\n            });\r\n\r\n            vapiInstance.on(\"call-end\", () => {\r\n                console.log(\"Call ended\");\r\n                setIsCallActive(false);\r\n                setIsSpeaking(false);\r\n                toast.info(\"Voice interview ended\");\r\n            });\r\n\r\n            vapiInstance.on(\"speech-start\", () => {\r\n                console.log(\"User started speaking\");\r\n                setIsSpeaking(true);\r\n            });\r\n\r\n            vapiInstance.on(\"speech-end\", () => {\r\n                console.log(\"User stopped speaking\");\r\n                setIsSpeaking(false);\r\n            });\r\n\r\n            vapiInstance.on(\"message\", (message) => {\r\n                console.log(\"Message received:\", message);\r\n                if (message.type === \"transcript\" && message.role === \"user\") {\r\n                    setTranscript((prev) => prev + \" \" + message.transcript);\r\n                }\r\n            });\r\n\r\n            vapiInstance.on(\"error\", (error) => {\r\n                console.error(\"Vapi error:\", JSON.stringify(error, null, 2));\r\n                setIsCallActive(false);\r\n                setIsSpeaking(false);\r\n\r\n                // Don't show toast for \"Meeting has ended\" as it's expected\r\n                if (!error.message?.includes(\"Meeting has ended\")) {\r\n                    toast.error(\"Voice error: \" + (error.message || \"Unknown error\"));\r\n                }\r\n            });\r\n\r\n            // Track call duration\r\n            let durationInterval;\r\n            vapiInstance.on(\"call-start\", () => {\r\n                setCallDuration(0);\r\n                durationInterval = setInterval(() => {\r\n                    setCallDuration((prev) => prev + 1);\r\n                }, 1000);\r\n            });\r\n\r\n            vapiInstance.on(\"call-end\", () => {\r\n                if (durationInterval) {\r\n                    clearInterval(durationInterval);\r\n                }\r\n            });\r\n\r\n            return () => {\r\n                if (durationInterval) {\r\n                    clearInterval(durationInterval);\r\n                }\r\n            };\r\n        } catch (error) {\r\n            console.error(\"Error initializing Vapi:\", error);\r\n            toast.error(\"Failed to initialize voice interview\");\r\n        }\r\n    }, []);\r\n\r\n    const startInterview = useCallback(\r\n        async (question, sessionContext) => {\r\n            if (!vapi) {\r\n                toast.error(\"Voice service not initialized\");\r\n                return false;\r\n            }\r\n\r\n            try {\r\n                const assistantConfig = createInterviewAssistant(question, sessionContext);\r\n                console.log(\"Starting Vapi with config:\", JSON.stringify(assistantConfig, null, 2));\r\n\r\n                await vapi.start(assistantConfig);\r\n                setTranscript(\"\"); // Reset transcript for new question\r\n                return true;\r\n            } catch (error) {\r\n                console.error(\"Error starting interview:\", JSON.stringify(error, null, 2));\r\n\r\n                let errorMessage = \"Failed to start voice interview\";\r\n                if (error.message) {\r\n                    errorMessage += `: ${error.message}`;\r\n                }\r\n\r\n                toast.error(errorMessage);\r\n                return false;\r\n            }\r\n        },\r\n        [vapi]\r\n    );\r\n\r\n    const stopInterview = useCallback(async () => {\r\n        if (!vapi) return false;\r\n\r\n        try {\r\n            await vapi.stop();\r\n            return true;\r\n        } catch (error) {\r\n            console.error(\"Error stopping interview:\", error);\r\n            toast.error(\"Failed to stop voice interview\");\r\n            return false;\r\n        }\r\n    }, [vapi]);\r\n\r\n    const toggleMute = useCallback(() => {\r\n        if (!vapi) return false;\r\n\r\n        try {\r\n            const newMutedState = !vapi.isMuted;\r\n            vapi.setMuted(newMutedState);\r\n            toast.info(newMutedState ? \"Microphone muted\" : \"Microphone unmuted\");\r\n            return newMutedState;\r\n        } catch (error) {\r\n            console.error(\"Error toggling mute:\", error);\r\n            return false;\r\n        }\r\n    }, [vapi]);\r\n\r\n    return {\r\n        isCallActive,\r\n        isSpeaking,\r\n        transcript,\r\n        callDuration,\r\n        startInterview,\r\n        stopInterview,\r\n        toggleMute,\r\n    };\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2631, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 2637, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/interview-room-dialog.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Textarea } from \"@/components/ui/textarea\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Mic, MicOff, Send, Loader2 } from \"lucide-react\";\r\nimport {\r\n    getInterviewSessionById,\r\n    updateInterviewSessionStatus,\r\n} from \"@/actions/interview-sessions\";\r\nimport {\r\n    saveInterviewResponse,\r\n    getSessionResponses,\r\n} from \"@/actions/interview-responses\";\r\nimport { generateInterviewFeedback } from \"@/actions/interview-ai\";\r\nimport useFetch from \"@/hooks/use-fetch\";\r\nimport useVapiInterview from \"@/hooks/useVapiInterview\";\r\n\r\nexport default function InterviewRoomDialog({ session, open, onOpenChange }) {\r\n    const router = useRouter();\r\n    const [currentQuestionIndex, setCurrentQuestionIndex] = useState(0);\r\n    const [questions, setQuestions] = useState([]);\r\n    const [responses, setResponses] = useState([]);\r\n    const [currentAnswer, setCurrentAnswer] = useState(\"\");\r\n    const [isRecording, setIsRecording] = useState(false);\r\n\r\n    const { loading: loadingSession, fn: loadSessionFn } = useFetch(\r\n        getInterviewSessionById\r\n    );\r\n    const { loading: savingResponse, fn: saveResponseFn } = useFetch(\r\n        saveInterviewResponse\r\n    );\r\n    const { loading: generatingFeedback, fn: generateFeedbackFn } = useFetch(\r\n        generateInterviewFeedback\r\n    );\r\n\r\n    // Voice interview hook\r\n    const {\r\n        isCallActive,\r\n        isSpeaking,\r\n        transcript,\r\n        callDuration,\r\n        startInterview,\r\n        stopInterview,\r\n        toggleMute,\r\n    } = useVapiInterview();\r\n\r\n    // Update current answer with voice transcript\r\n    useEffect(() => {\r\n        if (transcript) {\r\n            setCurrentAnswer(transcript);\r\n        }\r\n    }, [transcript]);\r\n\r\n    useEffect(() => {\r\n        if (open && session) {\r\n            loadSession();\r\n        }\r\n    }, [open, session]);\r\n\r\n    const loadSession = async () => {\r\n        try {\r\n            const sessionData = await loadSessionFn(session.id);\r\n\r\n            if (!sessionData) {\r\n                toast.error(\"Session not found\");\r\n                onOpenChange(false);\r\n                return;\r\n            }\r\n\r\n            setQuestions(sessionData.questions || []);\r\n            setResponses(sessionData.responses || []);\r\n\r\n            // Find the first unanswered question\r\n            const answeredQuestionIds = (sessionData.responses || []).map(\r\n                (r) => r.questionId\r\n            );\r\n            const nextQuestionIndex = (sessionData.questions || []).findIndex(\r\n                (q) => !answeredQuestionIds.includes(q.id)\r\n            );\r\n            setCurrentQuestionIndex(\r\n                nextQuestionIndex >= 0 ? nextQuestionIndex : 0\r\n            );\r\n\r\n            // Update status to in_progress if pending\r\n            if (session.status === \"pending\") {\r\n                await updateInterviewSessionStatus(session.id, \"in_progress\");\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error loading session:\", error);\r\n            toast.error(\"Failed to load interview session\");\r\n            onOpenChange(false);\r\n        }\r\n    };\r\n\r\n    const handleSubmitAnswer = async () => {\r\n        if (!currentAnswer.trim()) {\r\n            toast.error(\"Please provide an answer\");\r\n            return;\r\n        }\r\n\r\n        const currentQuestion = questions[currentQuestionIndex];\r\n\r\n        try {\r\n            await saveResponseFn(\r\n                session.id,\r\n                currentQuestion.id,\r\n                currentAnswer,\r\n                null,\r\n                null,\r\n                null\r\n            );\r\n\r\n            toast.success(\"Answer saved!\");\r\n            setCurrentAnswer(\"\");\r\n\r\n            // Move to next question or finish\r\n            if (currentQuestionIndex < questions.length - 1) {\r\n                setCurrentQuestionIndex(currentQuestionIndex + 1);\r\n            } else {\r\n                await finishInterview();\r\n            }\r\n        } catch (error) {\r\n            console.error(\"Error saving answer:\", error);\r\n            toast.error(\"Failed to save answer\");\r\n        }\r\n    };\r\n\r\n    const finishInterview = async () => {\r\n        try {\r\n            // Update session status to completed\r\n            await updateInterviewSessionStatus(session.id, \"completed\");\r\n\r\n            toast.success(\"Interview completed! Generating feedback...\");\r\n\r\n            // Generate feedback\r\n            await generateFeedbackFn(session.id);\r\n\r\n            toast.success(\"Feedback generated successfully!\");\r\n\r\n            // Close dialog and refresh\r\n            onOpenChange(false);\r\n            router.refresh();\r\n        } catch (error) {\r\n            console.error(\"Error finishing interview:\", error);\r\n            toast.error(\"Interview completed but failed to generate feedback\");\r\n            onOpenChange(false);\r\n            router.refresh();\r\n        }\r\n    };\r\n\r\n    const toggleRecording = async () => {\r\n        if (isCallActive) {\r\n            // Stop the voice interview\r\n            await stopInterview();\r\n            setIsRecording(false);\r\n        } else {\r\n            // Start the voice interview\r\n            const currentQuestion = questions[currentQuestionIndex];\r\n            const sessionContext = {\r\n                currentQuestionIndex,\r\n                totalQuestions: questions.length,\r\n                interviewType: session.interviewType,\r\n                jobRole: session.jobRole,\r\n            };\r\n\r\n            const started = await startInterview(\r\n                currentQuestion.questionText,\r\n                sessionContext\r\n            );\r\n\r\n            if (started) {\r\n                setIsRecording(true);\r\n            }\r\n        }\r\n    };\r\n\r\n    if (loadingSession) {\r\n        return (\r\n            <Dialog open={open} onOpenChange={onOpenChange}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>Loading Interview</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"flex items-center justify-center py-12\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin\" />\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    if (!questions || questions.length === 0) {\r\n        return (\r\n            <Dialog open={open} onOpenChange={onOpenChange}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>No Questions Available</DialogTitle>\r\n                        <DialogDescription>\r\n                            This interview session doesn't have any questions yet.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <Button onClick={() => onOpenChange(false)}>Close</Button>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    const currentQuestion = questions[currentQuestionIndex];\r\n    const progress = ((currentQuestionIndex + 1) / questions.length) * 100;\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"max-w-3xl max-h-[90vh] overflow-y-auto\">\r\n                <DialogHeader>\r\n                    <DialogTitle>{session.jobRole} Interview</DialogTitle>\r\n                    <DialogDescription>\r\n                        Question {currentQuestionIndex + 1} of {questions.length}\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                {/* Progress Bar */}\r\n                <div className=\"space-y-2\">\r\n                    <Progress value={progress} />\r\n                    <div className=\"flex justify-between text-sm text-muted-foreground\">\r\n                        <span>Progress</span>\r\n                        <span>{Math.round(progress)}%</span>\r\n                    </div>\r\n                </div>\r\n\r\n                {/* Current Question */}\r\n                <div className=\"space-y-4\">\r\n                    <div className=\"p-4 bg-muted rounded-lg\">\r\n                        <div className=\"flex items-center gap-2 mb-2\">\r\n                            <Badge variant=\"outline\">{currentQuestion.category}</Badge>\r\n                            <Badge variant=\"secondary\">{currentQuestion.difficulty}</Badge>\r\n                        </div>\r\n                        <p className=\"text-lg font-medium\">{currentQuestion.questionText}</p>\r\n                    </div>\r\n\r\n                    {/* Answer Input */}\r\n                    <div className=\"space-y-2\">\r\n                        <div className=\"flex items-center justify-between\">\r\n                            <label className=\"text-sm font-medium\">Your Answer</label>\r\n                            <div className=\"flex items-center gap-2\">\r\n                                {isCallActive && isSpeaking && (\r\n                                    <Badge variant=\"default\" className=\"animate-pulse\">\r\n                                        Speaking...\r\n                                    </Badge>\r\n                                )}\r\n                                {isCallActive && (\r\n                                    <span className=\"text-xs text-muted-foreground\">\r\n                                        {Math.floor(callDuration / 60)}:{(callDuration % 60).toString().padStart(2, '0')}\r\n                                    </span>\r\n                                )}\r\n                                <Button\r\n                                    variant=\"outline\"\r\n                                    size=\"sm\"\r\n                                    onClick={toggleRecording}\r\n                                    className={isCallActive ? \"bg-red-500 text-white hover:bg-red-600\" : \"\"}\r\n                                >\r\n                                    {isCallActive ? (\r\n                                        <>\r\n                                            <MicOff className=\"h-4 w-4 mr-2\" />\r\n                                            Stop Recording\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            <Mic className=\"h-4 w-4 mr-2\" />\r\n                                            Voice Answer\r\n                                        </>\r\n                                    )}\r\n                                </Button>\r\n                            </div>\r\n                        </div>\r\n                        <Textarea\r\n                            placeholder=\"Type your answer here or use voice recording...\"\r\n                            value={currentAnswer}\r\n                            onChange={(e) => setCurrentAnswer(e.target.value)}\r\n                            rows={8}\r\n                            className=\"resize-none\"\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Key Points Hint */}\r\n                    {currentQuestion.keyPoints && currentQuestion.keyPoints.length > 0 && (\r\n                        <div className=\"p-3 bg-blue-50 dark:bg-blue-950 rounded-lg\">\r\n                            <p className=\"text-sm font-medium mb-2\"> Key Points to Cover:</p>\r\n                            <ul className=\"text-sm space-y-1\">\r\n                                {currentQuestion.keyPoints.map((point, idx) => (\r\n                                    <li key={idx} className=\"text-muted-foreground\">\r\n                                         {point}\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </div>\r\n                    )}\r\n\r\n                    {/* Action Buttons */}\r\n                    <div className=\"flex justify-between pt-4\">\r\n                        <Button\r\n                            variant=\"outline\"\r\n                            onClick={() => onOpenChange(false)}\r\n                            disabled={savingResponse || generatingFeedback}\r\n                        >\r\n                            Save & Exit\r\n                        </Button>\r\n                        <Button\r\n                            onClick={handleSubmitAnswer}\r\n                            disabled={savingResponse || generatingFeedback || !currentAnswer.trim()}\r\n                        >\r\n                            {savingResponse || generatingFeedback ? (\r\n                                <Loader2 className=\"h-4 w-4 mr-2 animate-spin\" />\r\n                            ) : (\r\n                                <Send className=\"h-4 w-4 mr-2\" />\r\n                            )}\r\n                            {currentQuestionIndex < questions.length - 1\r\n                                ? \"Next Question\"\r\n                                : \"Finish Interview\"}\r\n                        </Button>\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 3199, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3205, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/components/ui/accordion.jsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as AccordionPrimitive from \"@radix-ui/react-accordion\"\nimport { ChevronDown } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Accordion = AccordionPrimitive.Root\n\nconst AccordionItem = React.forwardRef(({ className, ...props }, ref) => (\n  <AccordionPrimitive.Item ref={ref} className={cn(\"border-b\", className)} {...props} />\n))\nAccordionItem.displayName = \"AccordionItem\"\n\nconst AccordionTrigger = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Header className=\"flex\">\n    <AccordionPrimitive.Trigger\n      ref={ref}\n      className={cn(\n        \"flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline text-left [&[data-state=open]>svg]:rotate-180\",\n        className\n      )}\n      {...props}>\n      {children}\n      <ChevronDown\n        className=\"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200\" />\n    </AccordionPrimitive.Trigger>\n  </AccordionPrimitive.Header>\n))\nAccordionTrigger.displayName = AccordionPrimitive.Trigger.displayName\n\nconst AccordionContent = React.forwardRef(({ className, children, ...props }, ref) => (\n  <AccordionPrimitive.Content\n    ref={ref}\n    className=\"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down\"\n    {...props}>\n    <div className={cn(\"pb-4 pt-0\", className)}>{children}</div>\n  </AccordionPrimitive.Content>\n))\nAccordionContent.displayName = AccordionPrimitive.Content.displayName\n\nexport { Accordion, AccordionItem, AccordionTrigger, AccordionContent }\n"],"names":[],"mappings":";;;;;;;AAEA;AAIA;AAHA;AACA;AAJA;;;;;;AAQA,MAAM,YAAY,sKAAmB,IAAI;AAEzC,MAAM,8BAAgB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC/D,8OAAC,sKAAmB,IAAI;QAAC,KAAK;QAAK,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,YAAY;QAAa,GAAG,KAAK;;;;;;AAEpF,cAAc,WAAW,GAAG;AAE5B,MAAM,iCAAmB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC5E,8OAAC,sKAAmB,MAAM;QAAC,WAAU;kBACnC,cAAA,8OAAC,sKAAmB,OAAO;YACzB,KAAK;YACL,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EACV,kJACA;YAED,GAAG,KAAK;;gBACR;8BACD,8OAAC,oNAAA,CAAA,cAAW;oBACV,WAAU;;;;;;;;;;;;;;;;;AAIlB,iBAAiB,WAAW,GAAG,sKAAmB,OAAO,CAAC,WAAW;AAErE,MAAM,iCAAmB,sMAAM,UAAU,CAAC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBAC5E,8OAAC,sKAAmB,OAAO;QACzB,KAAK;QACL,WAAU;QACT,GAAG,KAAK;kBACT,cAAA,8OAAC;YAAI,WAAW,CAAA,GAAA,4GAAA,CAAA,KAAE,AAAD,EAAE,aAAa;sBAAa;;;;;;;;;;;AAGjD,iBAAiB,WAAW,GAAG,sKAAmB,OAAO,CAAC,WAAW"}},
    {"offset": {"line": 3279, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 3285, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/feedback-dialog.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState, useEffect } from \"react\";\r\nimport {\r\n    Dialog,\r\n    DialogContent,\r\n    DialogDescription,\r\n    DialogHeader,\r\n    DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Progress } from \"@/components/ui/progress\";\r\nimport {\r\n    Accordion,\r\n    AccordionContent,\r\n    AccordionItem,\r\n    AccordionTrigger,\r\n} from \"@/components/ui/accordion\";\r\nimport { Loader2, TrendingUp, TrendingDown, CheckCircle2 } from \"lucide-react\";\r\nimport { getInterviewFeedback } from \"@/actions/interview-ai\";\r\nimport useFetch from \"@/hooks/use-fetch\";\r\nimport {\r\n    RadarChart,\r\n    PolarGrid,\r\n    PolarAngleAxis,\r\n    PolarRadiusAxis,\r\n    Radar,\r\n    ResponsiveContainer,\r\n} from \"recharts\";\r\n\r\nexport default function FeedbackDialog({ session, open, onOpenChange }) {\r\n    const [feedback, setFeedback] = useState(null);\r\n\r\n    const { loading, fn: loadFeedbackFn } = useFetch(getInterviewFeedback);\r\n\r\n    useEffect(() => {\r\n        if (open && session) {\r\n            loadFeedback();\r\n        }\r\n    }, [open, session]);\r\n\r\n    const loadFeedback = async () => {\r\n        try {\r\n            const feedbackData = await loadFeedbackFn(session.id);\r\n            setFeedback(feedbackData);\r\n        } catch (error) {\r\n            console.error(\"Error loading feedback:\", error);\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <Dialog open={open} onOpenChange={onOpenChange}>\r\n                <DialogContent className=\"max-w-4xl\">\r\n                    <DialogHeader>\r\n                        <DialogTitle>Loading Feedback</DialogTitle>\r\n                    </DialogHeader>\r\n                    <div className=\"flex items-center justify-center py-12\">\r\n                        <Loader2 className=\"h-8 w-8 animate-spin\" />\r\n                    </div>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    if (!feedback) {\r\n        return (\r\n            <Dialog open={open} onOpenChange={onOpenChange}>\r\n                <DialogContent>\r\n                    <DialogHeader>\r\n                        <DialogTitle>No Feedback Available</DialogTitle>\r\n                        <DialogDescription>\r\n                            Feedback hasn't been generated for this interview yet.\r\n                        </DialogDescription>\r\n                    </DialogHeader>\r\n                    <Button onClick={() => onOpenChange(false)}>Close</Button>\r\n                </DialogContent>\r\n            </Dialog>\r\n        );\r\n    }\r\n\r\n    // Prepare radar chart data\r\n    const radarData = [];\r\n    if (feedback.technicalScore !== null) {\r\n        radarData.push({\r\n            category: \"Technical\",\r\n            score: feedback.technicalScore,\r\n        });\r\n    }\r\n    if (feedback.behavioralScore !== null) {\r\n        radarData.push({\r\n            category: \"Behavioral\",\r\n            score: feedback.behavioralScore,\r\n        });\r\n    }\r\n    radarData.push({\r\n        category: \"Communication\",\r\n        score: feedback.communicationScore,\r\n    });\r\n\r\n    const getScoreColor = (score) => {\r\n        if (score >= 8) return \"text-green-600\";\r\n        if (score >= 6) return \"text-yellow-600\";\r\n        return \"text-red-600\";\r\n    };\r\n\r\n    return (\r\n        <Dialog open={open} onOpenChange={onOpenChange}>\r\n            <DialogContent className=\"max-w-5xl max-h-[90vh] overflow-y-auto\">\r\n                <DialogHeader>\r\n                    <DialogTitle>Interview Feedback - {session.jobRole}</DialogTitle>\r\n                    <DialogDescription>\r\n                        Comprehensive analysis of your interview performance\r\n                    </DialogDescription>\r\n                </DialogHeader>\r\n\r\n                <div className=\"space-y-6\">\r\n                    {/* Overall Score */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Overall Performance</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"flex items-center justify-between mb-4\">\r\n                                <div>\r\n                                    <div\r\n                                        className={`text-5xl font-bold ${getScoreColor(\r\n                                            feedback.overallScore\r\n                                        )}`}\r\n                                    >\r\n                                        {feedback.overallScore.toFixed(1)}\r\n                                        <span className=\"text-2xl text-muted-foreground\">/10</span>\r\n                                    </div>\r\n                                    <p className=\"text-sm text-muted-foreground mt-2\">\r\n                                        Overall Score\r\n                                    </p>\r\n                                </div>\r\n                                <div className=\"w-64\">\r\n                                    <ResponsiveContainer width=\"100%\" height={200}>\r\n                                        <RadarChart data={radarData}>\r\n                                            <PolarGrid />\r\n                                            <PolarAngleAxis dataKey=\"category\" />\r\n                                            <PolarRadiusAxis angle={90} domain={[0, 10]} />\r\n                                            <Radar\r\n                                                name=\"Score\"\r\n                                                dataKey=\"score\"\r\n                                                stroke=\"#8884d8\"\r\n                                                fill=\"#8884d8\"\r\n                                                fillOpacity={0.6}\r\n                                            />\r\n                                        </RadarChart>\r\n                                    </ResponsiveContainer>\r\n                                </div>\r\n                            </div>\r\n                            <p className=\"text-sm\">{feedback.overallSummary}</p>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Category Scores */}\r\n                    <div className=\"grid gap-4 md:grid-cols-3\">\r\n                        {feedback.technicalScore !== null && (\r\n                            <Card>\r\n                                <CardHeader className=\"pb-3\">\r\n                                    <CardTitle className=\"text-sm font-medium\">\r\n                                        Technical Skills\r\n                                    </CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"text-2xl font-bold\">\r\n                                        {feedback.technicalScore.toFixed(1)}/10\r\n                                    </div>\r\n                                    <Progress\r\n                                        value={feedback.technicalScore * 10}\r\n                                        className=\"mt-2\"\r\n                                    />\r\n                                </CardContent>\r\n                            </Card>\r\n                        )}\r\n                        {feedback.behavioralScore !== null && (\r\n                            <Card>\r\n                                <CardHeader className=\"pb-3\">\r\n                                    <CardTitle className=\"text-sm font-medium\">\r\n                                        Behavioral\r\n                                    </CardTitle>\r\n                                </CardHeader>\r\n                                <CardContent>\r\n                                    <div className=\"text-2xl font-bold\">\r\n                                        {feedback.behavioralScore.toFixed(1)}/10\r\n                                    </div>\r\n                                    <Progress\r\n                                        value={feedback.behavioralScore * 10}\r\n                                        className=\"mt-2\"\r\n                                    />\r\n                                </CardContent>\r\n                            </Card>\r\n                        )}\r\n                        <Card>\r\n                            <CardHeader className=\"pb-3\">\r\n                                <CardTitle className=\"text-sm font-medium\">\r\n                                    Communication\r\n                                </CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <div className=\"text-2xl font-bold\">\r\n                                    {feedback.communicationScore.toFixed(1)}/10\r\n                                </div>\r\n                                <Progress\r\n                                    value={feedback.communicationScore * 10}\r\n                                    className=\"mt-2\"\r\n                                />\r\n                            </CardContent>\r\n                        </Card>\r\n                    </div>\r\n\r\n                    {/* Strengths */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <TrendingUp className=\"h-5 w-5 text-green-600\" />\r\n                                Strengths\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ul className=\"space-y-2\">\r\n                                {feedback.strengths.map((strength, idx) => (\r\n                                    <li key={idx} className=\"flex items-start gap-2\">\r\n                                        <CheckCircle2 className=\"h-5 w-5 text-green-600 mt-0.5 flex-shrink-0\" />\r\n                                        <span>{strength}</span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Areas for Improvement */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle className=\"flex items-center gap-2\">\r\n                                <TrendingDown className=\"h-5 w-5 text-orange-600\" />\r\n                                Areas for Improvement\r\n                            </CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ul className=\"space-y-2\">\r\n                                {feedback.improvements.map((improvement, idx) => (\r\n                                    <li key={idx} className=\"flex items-start gap-2\">\r\n                                        <span className=\"text-orange-600 mt-0.5 flex-shrink-0\">\r\n                                            \r\n                                        </span>\r\n                                        <span>{improvement}</span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Recommendations */}\r\n                    <Card>\r\n                        <CardHeader>\r\n                            <CardTitle>Recommendations</CardTitle>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <ul className=\"space-y-2\">\r\n                                {feedback.recommendations.map((recommendation, idx) => (\r\n                                    <li key={idx} className=\"flex items-start gap-2\">\r\n                                        <Badge variant=\"outline\" className=\"mt-0.5\">\r\n                                            {idx + 1}\r\n                                        </Badge>\r\n                                        <span>{recommendation}</span>\r\n                                    </li>\r\n                                ))}\r\n                            </ul>\r\n                        </CardContent>\r\n                    </Card>\r\n\r\n                    {/* Question-by-Question Analysis */}\r\n                    {feedback.questionAnalysis && feedback.questionAnalysis.length > 0 && (\r\n                        <Card>\r\n                            <CardHeader>\r\n                                <CardTitle>Question-by-Question Analysis</CardTitle>\r\n                            </CardHeader>\r\n                            <CardContent>\r\n                                <Accordion type=\"single\" collapsible className=\"w-full\">\r\n                                    {feedback.questionAnalysis.map((analysis, idx) => (\r\n                                        <AccordionItem key={idx} value={`question-${idx}`}>\r\n                                            <AccordionTrigger>\r\n                                                <div className=\"flex items-center justify-between w-full pr-4\">\r\n                                                    <span>Question {idx + 1}</span>\r\n                                                    <Badge\r\n                                                        variant={\r\n                                                            analysis.score >= 7 ? \"default\" : \"secondary\"\r\n                                                        }\r\n                                                    >\r\n                                                        {analysis.score}/10\r\n                                                    </Badge>\r\n                                                </div>\r\n                                            </AccordionTrigger>\r\n                                            <AccordionContent>\r\n                                                <div className=\"space-y-3 pt-2\">\r\n                                                    <p className=\"text-sm\">{analysis.feedback}</p>\r\n                                                    {analysis.keyPointsCovered &&\r\n                                                        analysis.keyPointsCovered.length > 0 && (\r\n                                                            <div>\r\n                                                                <p className=\"text-sm font-medium mb-2\">\r\n                                                                    Key Points Covered:\r\n                                                                </p>\r\n                                                                <ul className=\"text-sm space-y-1\">\r\n                                                                    {analysis.keyPointsCovered.map((point, i) => (\r\n                                                                        <li\r\n                                                                            key={i}\r\n                                                                            className=\"text-muted-foreground\"\r\n                                                                        >\r\n                                                                             {point}\r\n                                                                        </li>\r\n                                                                    ))}\r\n                                                                </ul>\r\n                                                            </div>\r\n                                                        )}\r\n                                                </div>\r\n                                            </AccordionContent>\r\n                                        </AccordionItem>\r\n                                    ))}\r\n                                </Accordion>\r\n                            </CardContent>\r\n                        </Card>\r\n                    )}\r\n\r\n                    {/* Close Button */}\r\n                    <div className=\"flex justify-end\">\r\n                        <Button onClick={() => onOpenChange(false)}>Close</Button>\r\n                    </div>\r\n                </div>\r\n            </DialogContent>\r\n        </Dialog>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4153, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4159, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/session-list.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useRouter } from \"next/navigation\";\r\nimport { toast } from \"sonner\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardDescription,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport {\r\n    Play,\r\n    CheckCircle,\r\n    Clock,\r\n    Trash2,\r\n    Eye,\r\n    XCircle,\r\n} from \"lucide-react\";\r\nimport { format } from \"date-fns\";\r\nimport { deleteInterviewSession } from \"@/actions/interview-sessions\";\r\nimport useFetch from \"@/hooks/use-fetch\";\r\nimport { useState } from \"react\";\r\nimport InterviewRoomDialog from \"./interview-room-dialog\";\r\nimport FeedbackDialog from \"./feedback-dialog\";\r\n\r\nexport default function SessionList({ sessions }) {\r\n    const router = useRouter();\r\n    const [selectedSession, setSelectedSession] = useState(null);\r\n    const [showInterviewRoom, setShowInterviewRoom] = useState(false);\r\n    const [showFeedback, setShowFeedback] = useState(false);\r\n\r\n    const { loading: deleting, fn: deleteSessionFn } = useFetch(\r\n        deleteInterviewSession\r\n    );\r\n\r\n    const handleDelete = async (sessionId) => {\r\n        if (!confirm(\"Are you sure you want to delete this interview session?\")) {\r\n            return;\r\n        }\r\n\r\n        try {\r\n            await deleteSessionFn(sessionId);\r\n            toast.success(\"Interview session deleted\");\r\n            router.refresh();\r\n        } catch (error) {\r\n            toast.error(error.message || \"Failed to delete session\");\r\n        }\r\n    };\r\n\r\n    const handleStartInterview = (session) => {\r\n        setSelectedSession(session);\r\n        setShowInterviewRoom(true);\r\n    };\r\n\r\n    const handleViewFeedback = (session) => {\r\n        setSelectedSession(session);\r\n        setShowFeedback(true);\r\n    };\r\n\r\n    const getStatusBadge = (status) => {\r\n        switch (status) {\r\n            case \"completed\":\r\n                return (\r\n                    <Badge className=\"bg-green-500\">\r\n                        <CheckCircle className=\"h-3 w-3 mr-1\" />\r\n                        Completed\r\n                    </Badge>\r\n                );\r\n            case \"in_progress\":\r\n                return (\r\n                    <Badge className=\"bg-blue-500\">\r\n                        <Clock className=\"h-3 w-3 mr-1\" />\r\n                        In Progress\r\n                    </Badge>\r\n                );\r\n            case \"cancelled\":\r\n                return (\r\n                    <Badge variant=\"destructive\">\r\n                        <XCircle className=\"h-3 w-3 mr-1\" />\r\n                        Cancelled\r\n                    </Badge>\r\n                );\r\n            default:\r\n                return (\r\n                    <Badge variant=\"outline\">\r\n                        <Clock className=\"h-3 w-3 mr-1\" />\r\n                        Pending\r\n                    </Badge>\r\n                );\r\n        }\r\n    };\r\n\r\n    if (!sessions || sessions.length === 0) {\r\n        return (\r\n            <Card>\r\n                <CardContent className=\"py-12 text-center\">\r\n                    <p className=\"text-muted-foreground\">\r\n                        No interview sessions yet. Create your first interview to get\r\n                        started!\r\n                    </p>\r\n                </CardContent>\r\n            </Card>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div className=\"space-y-4\">\r\n                {sessions.map((session) => (\r\n                    <Card key={session.id}>\r\n                        <CardHeader>\r\n                            <div className=\"flex items-start justify-between\">\r\n                                <div className=\"space-y-1\">\r\n                                    <CardTitle className=\"text-xl\">{session.jobRole}</CardTitle>\r\n                                    <CardDescription>\r\n                                        {session.companyName && `${session.companyName}  `}\r\n                                        {session.interviewType} Interview  {session.difficulty}{\" \"}\r\n                                        Level\r\n                                    </CardDescription>\r\n                                    <div className=\"flex items-center gap-2 text-sm text-muted-foreground\">\r\n                                        <span>\r\n                                            Created {format(new Date(session.createdAt), \"PPP\")}\r\n                                        </span>\r\n                                        {session._count && (\r\n                                            <>\r\n                                                <span></span>\r\n                                                <span>{session._count.questions} questions</span>\r\n                                                <span></span>\r\n                                                <span>{session._count.responses} responses</span>\r\n                                            </>\r\n                                        )}\r\n                                    </div>\r\n                                </div>\r\n                                {getStatusBadge(session.status)}\r\n                            </div>\r\n                        </CardHeader>\r\n                        <CardContent>\r\n                            <div className=\"flex items-center justify-between\">\r\n                                <div className=\"flex items-center gap-4\">\r\n                                    {session.feedback && (\r\n                                        <div className=\"text-sm\">\r\n                                            <span className=\"text-muted-foreground\">Score: </span>\r\n                                            <span className=\"font-semibold text-lg\">\r\n                                                {session.feedback.overallScore.toFixed(1)}/10\r\n                                            </span>\r\n                                        </div>\r\n                                    )}\r\n                                </div>\r\n                                <div className=\"flex items-center gap-2\">\r\n                                    {session.status === \"completed\" && session.feedback && (\r\n                                        <Button\r\n                                            variant=\"outline\"\r\n                                            size=\"sm\"\r\n                                            onClick={() => handleViewFeedback(session)}\r\n                                        >\r\n                                            <Eye className=\"h-4 w-4 mr-2\" />\r\n                                            View Feedback\r\n                                        </Button>\r\n                                    )}\r\n                                    {(session.status === \"pending\" ||\r\n                                        session.status === \"in_progress\") && (\r\n                                            <Button\r\n                                                size=\"sm\"\r\n                                                onClick={() => handleStartInterview(session)}\r\n                                            >\r\n                                                <Play className=\"h-4 w-4 mr-2\" />\r\n                                                {session.status === \"in_progress\"\r\n                                                    ? \"Continue\"\r\n                                                    : \"Start Interview\"}\r\n                                            </Button>\r\n                                        )}\r\n                                    <Button\r\n                                        variant=\"ghost\"\r\n                                        size=\"sm\"\r\n                                        onClick={() => handleDelete(session.id)}\r\n                                        disabled={deleting}\r\n                                    >\r\n                                        <Trash2 className=\"h-4 w-4\" />\r\n                                    </Button>\r\n                                </div>\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                ))}\r\n            </div>\r\n\r\n            {/* Interview Room Dialog */}\r\n            {selectedSession && (\r\n                <InterviewRoomDialog\r\n                    session={selectedSession}\r\n                    open={showInterviewRoom}\r\n                    onOpenChange={setShowInterviewRoom}\r\n                />\r\n            )}\r\n\r\n            {/* Feedback Dialog */}\r\n            {selectedSession && (\r\n                <FeedbackDialog\r\n                    session={selectedSession}\r\n                    open={showFeedback}\r\n                    onOpenChange={setShowFeedback}\r\n                />\r\n            )}\r\n        </>\r\n    );\r\n}\r\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 4574, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 4580, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/ASUS/OneDrive/Desktop/ai-career-coach-master/ai-career-coach-master/app/%28main%29/interview/_components/real-interview-prep.jsx"],"sourcesContent":["\"use client\";\r\n\r\nimport { useState } from \"react\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n    Card,\r\n    CardContent,\r\n    CardDescription,\r\n    CardHeader,\r\n    CardTitle,\r\n} from \"@/components/ui/card\";\r\nimport { Plus } from \"lucide-react\";\r\nimport CreateSessionDialog from \"./create-session-dialog\";\r\nimport SessionList from \"./session-list\";\r\n\r\nexport default function RealInterviewPrep({ sessions }) {\r\n    const [showCreateDialog, setShowCreateDialog] = useState(false);\r\n\r\n    return (\r\n        <div className=\"space-y-6\">\r\n            {/* Header Section */}\r\n            <Card>\r\n                <CardHeader>\r\n                    <div className=\"flex items-center justify-between\">\r\n                        <div>\r\n                            <CardTitle>Real Interview Preparation</CardTitle>\r\n                            <CardDescription>\r\n                                Practice with AI-powered voice interviews and get comprehensive\r\n                                feedback\r\n                            </CardDescription>\r\n                        </div>\r\n                        <Button onClick={() => setShowCreateDialog(true)}>\r\n                            <Plus className=\"h-4 w-4 mr-2\" />\r\n                            New Interview\r\n                        </Button>\r\n                    </div>\r\n                </CardHeader>\r\n                <CardContent>\r\n                    <div className=\"grid gap-4 md:grid-cols-3\">\r\n                        <div className=\"p-4 border rounded-lg\">\r\n                            <div className=\"text-2xl font-bold\">\r\n                                {sessions?.length || 0}\r\n                            </div>\r\n                            <p className=\"text-sm text-muted-foreground\">\r\n                                Total Interviews\r\n                            </p>\r\n                        </div>\r\n                        <div className=\"p-4 border rounded-lg\">\r\n                            <div className=\"text-2xl font-bold\">\r\n                                {sessions?.filter((s) => s.status === \"completed\").length || 0}\r\n                            </div>\r\n                            <p className=\"text-sm text-muted-foreground\">Completed</p>\r\n                        </div>\r\n                        <div className=\"p-4 border rounded-lg\">\r\n                            <div className=\"text-2xl font-bold\">\r\n                                {sessions?.filter((s) => s.status === \"pending\").length || 0}\r\n                            </div>\r\n                            <p className=\"text-sm text-muted-foreground\">Pending</p>\r\n                        </div>\r\n                    </div>\r\n                </CardContent>\r\n            </Card>\r\n\r\n            {/* Sessions List */}\r\n            <SessionList sessions={sessions} />\r\n\r\n            {/* Create Session Dialog */}\r\n            <CreateSessionDialog\r\n                open={showCreateDialog}\r\n                onOpenChange={setShowCreateDialog}\r\n            />\r\n        </div>\r\n    );\r\n}\r\n"],"names":[],"mappings":";;;;AAEA;AACA;AACA;AAQA;AACA;AAFA;AAXA;;;;;;;;AAee,SAAS,kBAAkB,EAAE,QAAQ,EAAE;IAClD,MAAM,CAAC,kBAAkB,oBAAoB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEzD,qBACI,8OAAC;QAAI,WAAU;;0BAEX,8OAAC,yHAAA,CAAA,OAAI;;kCACD,8OAAC,yHAAA,CAAA,aAAU;kCACP,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;;sDACG,8OAAC,yHAAA,CAAA,YAAS;sDAAC;;;;;;sDACX,8OAAC,yHAAA,CAAA,kBAAe;sDAAC;;;;;;;;;;;;8CAKrB,8OAAC,2HAAA,CAAA,SAAM;oCAAC,SAAS,IAAM,oBAAoB;;sDACvC,8OAAC,kMAAA,CAAA,OAAI;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;kCAK7C,8OAAC,yHAAA,CAAA,cAAW;kCACR,cAAA,8OAAC;4BAAI,WAAU;;8CACX,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;sDACV,UAAU,UAAU;;;;;;sDAEzB,8OAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;8CAIjD,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;sDACV,UAAU,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,aAAa,UAAU;;;;;;sDAEjE,8OAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;8CAEjD,8OAAC;oCAAI,WAAU;;sDACX,8OAAC;4CAAI,WAAU;sDACV,UAAU,OAAO,CAAC,IAAM,EAAE,MAAM,KAAK,WAAW,UAAU;;;;;;sDAE/D,8OAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BAO7D,8OAAC,+JAAA,CAAA,UAAW;gBAAC,UAAU;;;;;;0BAGvB,8OAAC,2KAAA,CAAA,UAAmB;gBAChB,MAAM;gBACN,cAAc;;;;;;;;;;;;AAI9B"}},
    {"offset": {"line": 4777, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}